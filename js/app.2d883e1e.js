(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],m=0,d=[];m<o.length;m++)i=o[m],n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/admin/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0291":function(e,t,a){"use strict";var r=a("9cc1"),n=a.n(r);n.a},"034f":function(e,t,a){"use strict";var r=a("64a9"),n=a.n(r);n.a},"0499":function(e,t,a){},"053c":function(e,t,a){"use strict";var r=a("c73c"),n=a.n(r);n.a},"15e7":function(e,t,a){"use strict";var r=a("8b5a"),n=a.n(r);n.a},1939:function(e,t,a){},2372:function(e,t,a){"use strict";var r=a("daa6"),n=a.n(r);n.a},"2c12":function(e,t,a){},"2d46":function(e,t,a){},"2e12":function(e,t,a){"use strict";var r=a("0499"),n=a.n(r);n.a},"308c":function(e,t,a){"use strict";var r=a("ac16"),n=a.n(r);n.a},"32e3":function(e,t,a){"use strict";var r=a("f66b"),n=a.n(r);n.a},"3ed8":function(e,t,a){},"49de":function(e,t,a){"use strict";var r=a("adc6"),n=a.n(r);n.a},5648:function(e,t,a){"use strict";var r=a("2c12"),n=a.n(r);n.a},"56c2":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.isAuth?a("router-view"):a("index")],1)},s=[],i=(a("4917"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-container",[a("el-aside",{class:{aside:e.isCollapse}},[a("div",{staticClass:"side-menu"},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1",collapse:e.isCollapse,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-stopwatch"}),a("span",[e._v("控制台")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"},on:{click:function(t){return e.addTab("/","主页")}}},[e._v("主页")])],1)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user"}),a("span",[e._v("用户管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"},on:{click:function(t){return e.addTab("/user","用户列表")}}},[e._v("用户列表")])],1)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-goods"}),a("span",[e._v("商品管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"},on:{click:function(t){return e.addTab("/product","商品列表")}}},[e._v("商品列表")]),a("el-menu-item",{attrs:{index:"3-2"},on:{click:function(t){return e.addTab("/category","分类管理")}}},[e._v("分类管理")])],1)],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-sell"}),a("span",[e._v("订单管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"},on:{click:function(t){return e.addTab("/order","订单列表")}}},[e._v("订单列表")])],1)],2),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-money"}),a("span",[e._v("商家管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"5-1"},on:{click:function(t){return e.addTab("/business","商家列表")}}},[e._v("商家列表")])],1)],2),a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-money"}),a("span",[e._v("兑换列表")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"6-1"},on:{click:function(t){return e.addTab("/code","兑换码")}}},[e._v("兑换码")])],1)],2),a("el-submenu",{attrs:{index:"7"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",[e._v("设置")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"7-1"},on:{click:function(t){return e.addTab("/admin","管理员设置")}}},[e._v("管理员设置")]),a("el-menu-item",{attrs:{index:"7-2"},on:{click:function(t){return e.addTab("/rule","规则设置")}}},[e._v("规则设置")])],1)],2)],1)],1)],1)]),a("el-container",{staticClass:"header-main",class:{"header-main-left":e.isCollapse}},[a("el-header",{class:{"header-main-left":e.isCollapse}},[a("div",{staticClass:"header"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("span",{attrs:{title:"侧边伸缩"},on:{click:function(t){e.isCollapse=!e.isCollapse}}},[a("i",{class:{"el-icon-s-fold":!e.isCollapse,"el-icon-s-unfold":e.isCollapse}})])]),a("li",{staticClass:"nav-item"},[a("span",{attrs:{title:"刷新"},on:{click:e.refresh}},[a("i",{staticClass:"el-icon-refresh"})])])]),a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("span",[a("i",{staticClass:"el-icon-bell"}),a("span",{staticClass:"badge-dot"})])]),a("li",{staticClass:"nav-item"},[a("span",[a("i",{staticClass:"icon el-icon-rank"})])]),a("li",{staticClass:"nav-item",on:{mouseenter:function(t){e.out=!0},mouseleave:function(t){e.out=!1}}},[a("span",{domProps:{textContent:e._s(e.username)}}),a("el-collapse-transition",[a("dl",{directives:[{name:"show",rawName:"v-show",value:e.out,expression:"out"}],staticClass:"nav-child"},[a("span",{on:{click:e.showData}},[e._v("基本资料")]),a("span",{on:{click:function(t){return e.addTab("/admin","管理员设置")}}},[e._v("修改密码")]),a("span",{on:{click:e.loginOut}},[e._v("退出")])])])],1)])]),a("el-tabs",{attrs:{type:"card"},on:{"tab-remove":e.removeTab,"tab-click":e.onTabClick},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.tabs,function(e,t){return a("el-tab-pane",{key:t,attrs:{path:e.path,title:e.name,label:e.name,name:e.path,lazy:!0,closable:!1}})}),1)],1),a("el-main",{class:{"padding-left":e.isCollapse}},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():a("router-view")],1)],1)],1)],1)}),o=[],c=(a("96cf"),a("3b8d")),l=(a("7f7f"),a("2f62")),u=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-layout"},[a("div",{staticClass:"main row"},[a("div",{staticClass:"auth-content"},[a("div",{staticClass:"login-content"},[a("div",{staticClass:"login"},[a("h2",[e._v("欢迎登录后台系统!")]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],attrs:{type:"text",required:"required",placeholder:"用户名"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),a("span",{staticClass:"bottom"}),a("span",{staticClass:"right"}),a("span",{staticClass:"top"}),a("span",{staticClass:"left"}),a("i",{staticClass:"bar"})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password",id:"password",required:"required",placeholder:"密码"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),a("span",{staticClass:"bottom"}),a("span",{staticClass:"right"}),a("span",{staticClass:"top"}),a("span",{staticClass:"left"}),a("i",{staticClass:"bar"})])]),a("div",{staticClass:"down-container"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:e.login}},[e._v("\n              登录\n            ")])])])])]),e._m(0)])])},d=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-wallpaper"},[a("div",{staticClass:"oblique"})])}],p="/",f=a("5c96"),h=a.n(f),b=a("6829"),v="";function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return b.request(e,t,{method:a})}b.config.baseURL=p,b.interceptors.request.use(function(e){return v=f["Loading"].service({fullscreen:!0}),e.headers["token"]=localStorage.getItem("token"),e}),b.interceptors.response.use(function(e,t){return v.close(),t.resolve(e.data)},function(e,t){return 9999===e.response.data.error_code&&(localStorage.clear(),window.location.reload()),v.close(),t.resolve()});var _={name:"login",data:function(){return{form:{username:"",password:""}}},methods:{_login:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/login",this.form,"POST");case 2:t=e.sent,1e4===t.error_code?(this.$message.success("登录成功"),localStorage.setItem("token",t.data),localStorage.setItem("username",this.form.username),la.push({path:"/",name:"主页"}),window.location.reload()):this.$message.error(t.msg);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),login:function(){return this.form.username.trim().length?this.form.password.trim().length?void this._login():(this.$message.error("密码不能为空"),!1):(this.$message.error("用户名不能为空"),!1)}}},x=_,w=(a("5ea4"),a("2877")),y=Object(w["a"])(x,m,d,!1,null,"3f9d7f07",null),k=y.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"left"},[a("div",{staticClass:"number"},e._l(e.list,function(e,t){return a("keep-alive",{key:t},[a("number",{attrs:{title:e.title,tag:e.tag,number:e.number,color:e.color}})],1)}),1),a("keep-alive",[a("user",{attrs:{userData:e.userData}})],1)],1),a("div",{staticClass:"right"},[a("keep-alive",[a("cpu")],1),a("keep-alive",[a("Index")],1)],1)])},$=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("版本信息")]),a("div",{staticClass:"card-body text"},[e._m(0),a("table",{staticClass:"table"},[a("tbody",e._l(e.data,function(t,r){return a("tr",{key:r},[a("td",{domProps:{textContent:e._s(r)}}),a("td",{domProps:{textContent:e._s(t)}})])}),0)])])])},R=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{attrs:{width:"100"}}),a("col")])}],O={name:"index",data:function(){return{data:[]}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/index/console");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},j=O,T=Object(w["a"])(j,S,R,!1,null,"0203b472",null),D=T.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("span",{domProps:{textContent:e._s(e.title)}}),a("em",{class:e.color,domProps:{textContent:e._s(e.tag)}})]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-number"},[a("span",{domProps:{textContent:e._s(e.number)}})])])])},E=[],z=(a("c5f6"),{props:{title:{type:String,default:"本周注册"},tag:{type:String,default:"周"},number:{type:Number,default:0},color:{type:String,default:"brand-bg"}},data:function(){return{}},name:"number"}),P=z,B=(a("32e3"),Object(w["a"])(P,q,E,!1,null,null,null)),I=B.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("实时监控")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"progress-item"},[a("h3",[e._v("cpu使用率")]),a("div",{staticClass:"progress-bar"},[a("span",{staticClass:"progress-text",domProps:{textContent:e._s(e.cpu)}},[e._v("%")])])]),a("div",{staticClass:"progress-item"},[a("h3",[e._v("内存使用率")]),a("div",{staticClass:"progress-bar"},[a("span",{staticClass:"progress-text",domProps:{textContent:e._s(e.memory)}},[e._v("%")])])])])])},F=[],U={name:"cpu",data:function(){return{cpu:0,memory:0}},created:function(){this.cpu=parseFloat(10*Math.random()).toFixed(2),this.memory=parseFloat(10*Math.random()).toFixed(2)}},M=U,L=(a("cffc"),Object(w["a"])(M,A,F,!1,null,"71a1123e",null)),W=L.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("用户统计")]),a("div",{staticClass:"card-body text"},[a("ve-line",{attrs:{data:e.userData}})],1)])},H=[],J={name:"user",props:{userData:{}}},Q=J,G=Object(w["a"])(Q,N,H,!1,null,null,null),K=G.exports,V={components:{User:K,Cpu:W,number:I,Index:D},name:"index",data:function(){return{list:[],userData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("record");case 2:t=e.sent,1e4===t.error_code&&(this.list=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},X=V,Y=(a("2e12"),Object(w["a"])(X,C,$,!1,null,null,null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",[e._v("用户列表")])],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",circle:""},on:{click:e.refresh}})],1),a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入用户名或手机号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("el-dialog",{attrs:{title:"鸡的记录",visible:e.layer.chicken,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.layer,"chicken",t)}}},[a("el-table",{attrs:{data:e.chicken}},[a("el-table-column",{attrs:{property:"pid",label:"来源",width:"150"}}),a("el-table-column",{attrs:{property:"title",label:"数量",width:"200"}}),a("el-table-column",{attrs:{property:"update_time",label:"操作时间"}})],1)],1),a("el-dialog",{attrs:{title:"鸡蛋的记录",visible:e.layer.egg,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.layer,"egg",t)}}},[a("el-table",{attrs:{data:e.egg}},[a("el-table-column",{attrs:{property:"remark",label:"来源",width:"150"}}),a("el-table-column",{attrs:{property:"title",label:"标题",width:"200"}}),a("el-table-column",{attrs:{property:"number",label:"数量",width:"100"}}),a("el-table-column",{attrs:{property:"update_time",label:"操作时间"}})],1)],1),a("el-dialog",{attrs:{title:"喂养的记录",visible:e.layer.forage,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.layer,"forage",t)}}},[a("el-table",{attrs:{data:e.forage}},[a("el-table-column",{attrs:{property:"id",label:"ID",width:"100"}}),a("el-table-column",{attrs:{property:"remark",label:"备注信息"}}),a("el-table-column",{attrs:{property:"create_time",label:"签到时间"}})],1)],1),a("div",{staticClass:"create"},[a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"pid_name",label:"推荐人",width:"150"}}),a("el-table-column",{attrs:{label:"用户头像",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-avatar",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.avatar}})]}}])}),a("el-table-column",{attrs:{prop:"username",label:"名称"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"150"}}),a("el-table-column",{attrs:{prop:"chicken_number",width:"100",label:"鸡的数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.chicken_number?a("span",{staticClass:"brand",staticStyle:{cursor:"pointer"},domProps:{textContent:e._s(t.row.chicken_number)},on:{click:function(a){return e.show("chicken",t.row.id)}}}):a("span",{staticClass:"info"},[e._v("0")])]}}])}),a("el-table-column",{attrs:{prop:"egg_number",width:"100",label:"蛋的数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.egg_number?a("span",{staticClass:"danger",staticStyle:{cursor:"pointer"},domProps:{textContent:e._s(t.row.egg_number)},on:{click:function(a){return e.show("egg",t.row.id)}}}):a("span",{staticClass:"info"},[e._v("0")])]}}])}),a("el-table-column",{attrs:{prop:"sign_number",width:"100",label:"签到天数"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sign_number?a("span",{staticClass:"success",staticStyle:{cursor:"pointer"},domProps:{textContent:e._s(t.row.sign_number)},on:{click:function(a){return e.show("forage",t.row.id)}}}):a("span",{staticClass:"info"},[e._v("0")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",width:"120",label:"注册时间"}})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.change}})],1)])])},te=[],ae={name:"index",data:function(){return{username:"",page:1,userid:0,pageSize:20,total:0,layer:{chicken:!1,egg:!1,forage:!1},data:[],chicken:[],egg:[],forage:[]}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/user?page=".concat(this.page,"&username=").concat(this.username),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data.map(function(e){return e.create_time=e.create_time.substring(0,10),e}),this.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getChicken:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("chickenlog?userid=".concat(this.userid));case 2:t=e.sent,1e4===t.error_code&&(this.chicken=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getEgg:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("egglog?userid=".concat(this.userid));case 2:t=e.sent,1e4===t.error_code&&(this.egg=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getForage:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("foragelog?userid=".concat(this.userid));case 2:t=e.sent,1e4===t.error_code&&(this.forage=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),change:function(e){this.page=e,this._getData()},search:function(){if(!this.username.trim().length)return this.$message.error("用户名不能为空"),!1;this._getData()},show:function(e,t){this.userid=t,this.layer[e]=!0,"chicken"===e?this._getChicken():"egg"===e?this._getEgg():this._getForage()},refresh:function(){this.page=1,this.title="",this._getData()}}},re=ae,ne=Object(w["a"])(re,ee,te,!1,null,"6ff6221e",null),se=ne.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑员工\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"职位",prop:"position",rules:[{required:!0,message:"职位标题不能为空"}]}},[a("el-input",{model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}})],1),a("el-form-item",{attrs:{label:"积分",prop:"number",rules:[{required:!0,message:"积分不能为空"}]}},[a("el-input",{model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"选择车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择归属车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"file-list":e.avatar,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},oe=[],ce={components:{},name:"add-user",data:function(){return{status:!1,action:this.Base+"/admin/tools/uploads",headers:{token:""},id:0,data:[],avatar:[],form:{pid:"",name:"",username:"",number:"",password:"",avatar:"",remarks:"",position:""}}},mounted:function(){this.id=ma.state.id,this.headers.token=localStorage.getItem("token"),this._getWorkshop(),this._getData()},methods:{_getWorkshop:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/workshop/index");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/user/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data,this.avatar=[{name:"用户头像",url:t.data.avatar}]);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/user/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_isNull:function(e){if(!e||null===e||""===e||"undefined"===typeof e||!e.trim().length||"null"===e)return!0},handleAvatarSuccess:function(e){this.form.avatar=e.url},handleRemove:function(){this.form.avatar="",this.avatar=[]},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},le=ce,ue=(a("ef99"),Object(w["a"])(le,ie,oe,!1,null,"7cd338be",null)),me=ue.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("商家管理")]),a("el-breadcrumb-item",[e._v("商家列表")])],1)],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商家名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:"商家名称"}}),a("el-table-column",{attrs:{prop:"logo",label:"商家名称"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-avatar",{attrs:{src:e.row.logo}})]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),a("el-table-column",{attrs:{prop:"describe",label:"商家描述"}}),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},pe=[],fe={name:"index",data:function(){return{data:[],title:"",page:1,total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/business?page=".concat(this.page,"&title=").concat(this.title));case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){ma.commit("add_tabs",{path:"add-business",name:"添加商家"})},_change:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/business/".concat(t),{status:r},"PUT");case 2:n=e.sent,1e4===n.error_code?(this.data[a]["status"]=r,this.$message.success("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_detele:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/business/".concat(t),"","DELETE");case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){ma.commit("set_id",e),ma.commit("add_tabs",{path:"edit-business",name:"编辑商家"})},handleCurrentChange:function(e){this.page=e,this._getData()},search:function(){this.title?this._getData():this.$message("商家标题不能为空")}}},he=fe,be=(a("0291"),Object(w["a"])(he,de,pe,!1,null,"4f21889b",null)),ve=be.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增商家\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商家名称",prop:"title",rules:[{required:!0,message:"商家名称不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商家名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"商家logo",prop:"logo",rules:[{required:!0,message:"商家logo不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.logoSuccess,"on-remove":e.logoRemove,"file-list":e.images,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"联系方式",prop:"phone",rules:[{required:!0,message:"联系方式不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商家联系方式"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"商家描述",prop:"describe",rules:[{required:!0,message:"商家描述不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商家描述"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},_e=[],xe={components:{},name:"add-business",data:function(){return{data:{},action:this.Base+"/upload",headers:{token:""},form:{title:"",logo:"",phone:"",describe:""}}},mounted:function(){this.headers.token=localStorage.getItem("token")},methods:{_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("business",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&(this.$message.success("添加成功"),setTimeout({},1e3));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})},logoSuccess:function(e){this.form.logo=e.data},logoRemove:function(){this.form.logo=""}}},we=xe,ye=(a("15e7"),Object(w["a"])(we,ge,_e,!1,null,"50bf2b71",null)),ke=ye.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑商家\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商家名称",prop:"title",rules:[{required:!0,message:"商家名称不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商家名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"商家logo",prop:"logo",rules:[{required:!0,message:"商家logo不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.logoSuccess,"file-list":e.image,"on-remove":e.logoRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n              只能上传jpg/png文件，且不超过500kb\n            ")])],1)],1),a("el-form-item",{attrs:{label:"联系方式",prop:"phone",rules:[{required:!0,message:"联系方式不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商家联系方式"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"商家描述",prop:"describe",rules:[{required:!0,message:"商家描述不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商家描述"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},$e=[],Se={components:{},name:"edit-business",data:function(){return{data:{},id:0,action:this.Base+"/upload",headers:{token:""},image:[{name:"logo",url:""}],form:{}}},mounted:function(){this.id=ma.state.id,this.headers.token=localStorage.getItem("token"),this._getOne()},methods:{_getOne:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("business/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data,this.image[0]["url"]=t.data.logo);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("business/".concat(this.id),this.form,"PUT");case 2:t=e.sent,1e4===t.error_code&&(this.$message.success("修改成功"),setTimeout({},1e3));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})},logoSuccess:function(e){this.form.logo=e.data},logoRemove:function(){this.form.logo=""}}},Re=Se,Oe=(a("edbe"),Object(w["a"])(Re,Ce,$e,!1,null,"5f456497",null)),je=Oe.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",circle:""},on:{click:e.refresh}})],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-select",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("div",{staticStyle:{display:"flex"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")])],1),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("div",{staticClass:"card-body text"},[a("el-table",{attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",width:"100",label:"ID"}}),a("el-table-column",{attrs:{prop:"cate_title",width:"150",label:"商品分类"}}),a("el-table-column",{attrs:{prop:"exchange",width:"150",label:"商品类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.exchange?a("span",{staticClass:"warning"},[e._v("兑换商品")]):a("span",{staticClass:"danger"},[e._v("购买商品")])]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"image",width:"80",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-avatar",{staticStyle:{width:"35px",height:"35px"},attrs:{src:e.row.image}})]}}])}),a("el-table-column",{attrs:{prop:"describe",label:"描述"}}),a("el-table-column",{attrs:{prop:"price",width:"150",label:"商品价格"}}),a("el-table-column",{attrs:{prop:"number",width:"80",label:"库存"}}),a("el-table-column",{attrs:{prop:"create_time",width:"180",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":e.pagsize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},De=[],qe={name:"index",data:function(){return{data:[],page:1,options:[],pagsize:20,category:"",title:"",total:0}},created:function(){this._getData(),this._getCategory()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/product?page=".concat(this.page,"&title=").concat(this.title,"&category=").concat(this.category));case 2:t=e.sent,1e4===t.error_code?(this.data=t.data.data,this.total=t.data.total,this.page=parseInt(t.data.current_page)):(this.data=[],this.total=0,this.page=0);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getCategory:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category?pid=1","");case 2:t=e.sent,1e4===t.error_code&&t.data.map(function(e){a.options.push({value:e.value,label:e.label})});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){ma.commit("add_tabs",{path:"add-goods",name:"添加商品"}),this.defaultTab=this.$route.path},_change:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/product/".concat(t),{status:r},"PUT");case 2:n=e.sent,1e4===n.error_code?(this.data[a]["status"]=r,this.$message("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_changeAll:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/product/updateAll",{status:t,id:this.idAll},"POST");case 2:a=e.sent,1e4===a.error_code?this.$message.success("修改成功"):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_detele:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/product/".concat(t),"","DELETE");case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){ma.commit("set_id",e),ma.commit("add_tabs",{path:"edit-product",name:"编辑商品"})},handleCurrentChange:function(e){this.page=e,this._getData()},search:function(){this.title||this.category?this._getData():this.$message("商品标题不能为空")},refresh:function(){this.page=1,this._getData()}}},Ee=qe,ze=Object(w["a"])(Ee,Te,De,!1,null,"3b440142",null),Pe=ze.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增商品\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品类型",prop:"exchange",rules:[{required:!0,message:"商品类型不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品类型"},model:{value:e.form.exchange,callback:function(t){e.$set(e.form,"exchange",t)},expression:"form.exchange"}},e._l(e.option,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"商品标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"商品描述",prop:"describe",rules:[{required:!0,message:"describe不能为空"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入商品描述"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price",rules:[{required:!0,message:"商品价格不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"category",rules:[{required:!0,message:"商品分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品库存",prop:"number",rules:[{required:!0,message:"商品库存不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品库存"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"缩略图",prop:"image",rules:[{required:!0,message:"图片不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"on-remove":e.imageRemove,"file-list":e.images,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"商品详情",prop:"content",rules:[{required:!0,message:"文章内容不能为空"}]}},[a("quill-editor",{attrs:{options:e.editor},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Ie=[],Ae=(a("a753"),a("8096"),a("14e1"),a("953d")),Fe=a("5dde");Ae["Quill"].register("modules/ImageExtend",Fe["a"]);var Ue={components:{quillEditor:Ae["quillEditor"]},name:"add-product",data:function(){var e=this;return{data:[],action:this.Base+"/upload",headers:{token:""},images:[],editor:{modules:{ImageExtend:{loading:!0,name:"file",action:this.Base+"/upload",response:function(t){return e.Base+t.data}},toolbar:{container:Fe["c"],handlers:{image:function(){Fe["b"].emit(this.quill.id)}}}}},form:{title:"",describe:"",category:"",price:"",image:"",number:"",content:""},option:[{label:"购买商品",value:0},{label:"兑换商品",value:1}],options:[]}},mounted:function(){this.headers.token=localStorage.getItem("token"),this._getCategory()},methods:{_getCategory:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category?pid=1","");case 2:t=e.sent,1e4===t.error_code&&t.data.map(function(e){a.options.push({value:e.value,label:e.label})});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("product",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.data},imageRemove:function(){this.form.image=""},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Me=Ue,Le=(a("2372"),Object(w["a"])(Me,Be,Ie,!1,null,"7ce48e2a",null)),We=Le.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增商品\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品类型",prop:"exchange",rules:[{required:!0,message:"商品类型不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品类型"},model:{value:e.form.exchange,callback:function(t){e.$set(e.form,"exchange",t)},expression:"form.exchange"}},e._l(e.option,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"商品标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"商品描述",prop:"describe",rules:[{required:!0,message:"describe不能为空"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入商品描述"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price",rules:[{required:!0,message:"商品价格不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"category",rules:[{required:!0,message:"商品分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品库存",prop:"number",rules:[{required:!0,message:"商品库存不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品库存"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"缩略图",prop:"image",rules:[{required:!0,message:"图片不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"file-list":e.image,"on-success":e.imageSuccess,"on-remove":e.imageRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n              只能上传jpg/png文件，且不超过500kb\n            ")])],1)],1),a("el-form-item",{attrs:{label:"商品详情",prop:"content",rules:[{required:!0,message:"文章内容不能为空"}]}},[a("quill-editor",{attrs:{options:e.editor},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},He=[];Ae["Quill"].register("modules/ImageExtend",Fe["a"]);var Je={components:{quillEditor:Ae["quillEditor"]},name:"edit-product",data:function(){var e=this;return{data:[],id:0,action:this.Base+"/upload",headers:{token:""},image:[{name:"logo",url:""}],editor:{modules:{ImageExtend:{loading:!0,name:"file",action:this.Base+"/upload",response:function(t){return e.Base+t.data}},toolbar:{container:Fe["c"],handlers:{image:function(){Fe["b"].emit(this.quill.id)}}}}},form:{},option:[{label:"购买商品",value:0},{label:"兑换商品",value:1}],options:[]}},mounted:function(){this.id=ma.state.id,this.headers.token=localStorage.getItem("token"),this._getCategory(),this._getOne()},methods:{_getCategory:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category?pid=1","");case 2:t=e.sent,1e4===t.error_code&&t.data.map(function(e){a.options.push({value:e.value,label:e.label})});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),_getOne:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/product/".concat(this.id),"");case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data,this.image[0]["url"]=t.data.image);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/product/".concat(this.id),this.form,"PUT");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.data},imageRemove:function(){this.form.image=""},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Qe=Je,Ge=(a("308c"),Object(w["a"])(Qe,Ne,He,!1,null,"8e170300",null)),Ke=Ge.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品分类")]),a("el-breadcrumb-item",[e._v("分类列表")])],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",circle:""},on:{click:e.refresh}})],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入分类名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"pid_title",label:"上级分类",width:"120"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"image",label:"缩略图"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-avatar",{attrs:{src:e.row.image}})]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"描述"}}),a("el-table-column",{attrs:{prop:"sort",width:"200",label:"排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"排序越大越靠前",placeholder:"排序越大越靠前"},on:{blur:function(a){return e.changeSort(t.row.id,t.row.sort)}},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.paegsize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},Xe=[],Ye=(a("8615"),a("ac6a"),a("456d"),{name:"index",data:function(){return{data:[],title:"",page:1,paegsize:20,total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category?page=".concat(this.page,"&title=").concat(this.title));case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page,this.paegsize=t.data.per_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){ma.commit("add_tabs",{path:"add-category",name:"添加分类"})},_change:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category/".concat(t),a,"PUT");case 2:n=e.sent,1e4===n.error_code?(s=Object.keys(a)[0],"status"===s&&(this.data[r][s]=Object.values(a)[0]),this.$message.success("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_detele:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category/".concat(t),"","DELETE");case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,{status:a},t)})},changeSort:function(e,t){this._change(e,{sort:t})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){ma.commit("setid",e),ma.commit("add_tabs",{path:"edit-category",name:"编辑分类"})},handleCurrentChange:function(e){this.page=e,this._getData()},search:function(){this.title?this._getData():this.$message.error("标题不能为空")},refresh:function(){this.page=1,this.title="",this._getData()}}}),Ze=Ye,et=Object(w["a"])(Ze,Ve,Xe,!1,null,"637e8bf0",null),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增分类\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"上级分类",prop:"pid",rules:[{required:!0,message:"上级分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"上级分类"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"分类标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入分类标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort",rules:[{required:!0,message:"分类标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"分类排序数字越小越靠前"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:"分类图标",prop:"image"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"on-remove":e.imageRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n              只能上传jpg/png文件，且不超过500kb\n            ")])],1)],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},rt=[],nt={components:{},name:"add-category",data:function(){return{action:this.Base+"/upload",headers:{token:""},images:[],options:[{value:0,label:"顶级分类"}],form:{pid:0,sort:50,title:"",image:"",remark:""}}},mounted:function(){this.headers.token=localStorage.getItem("token"),this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category?pid=1");case 2:t=e.sent,1e4===t.error_code&&t.data.map(function(e){a.options.push(e)});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&(this.$message.success("添加成功"),setTimeout(function(){ma.commit("add_tabs",{path:"category",name:"分类管理"})},1500));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.data},imageRemove:function(){this.form.image=""},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},st=nt,it=(a("7469"),Object(w["a"])(st,at,rt,!1,null,"4c6b517f",null)),ot=it.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增分类\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"上级分类",prop:"pid",rules:[{required:!0,message:"上级分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"上级分类"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"分类标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入分类标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort",rules:[{required:!0,message:"分类标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"分类排序数字越小越靠前"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:"分类图标",prop:"image"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"on-remove":e.imageRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n              只能上传jpg/png文件，且不超过500kb\n            ")])],1)],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},lt=[],ut={components:{},name:"add-category",data:function(){return{action:this.Base+"/upload",headers:{token:""},images:[],id:0,options:[{value:0,label:"顶级分类"}],form:{pid:0,sort:50,title:"",image:"",remark:""}}},mounted:function(){this.id=ma.state.id,this.headers.token=localStorage.getItem("token"),this._getOne(),this._getData()},methods:{_getOne:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category?pid=0");case 2:t=e.sent,1e4===t.error_code&&t.data.map(function(e){a.options.push(e)});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/category/".concat(this.id),this.form,"PUT");case 2:t=e.sent,1e4===t.error_code&&(this.$message.success("修改成功"),setTimeout(function(){ma.commit("add_tabs",{path:"category",name:"分类管理"})},1500));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.data},imageRemove:function(){this.form.image=""},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},mt=ut,dt=(a("7f4b"),Object(w["a"])(mt,ct,lt,!1,null,"996712c6",null)),pt=dt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("订单")]),a("el-breadcrumb-item",[e._v("订单列表")])],1)],1),a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入付款人"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"90"}}),a("el-table-column",{attrs:{prop:"username",label:"付款人"}}),a("el-table-column",{attrs:{prop:"price",label:"商品价格"}}),a("el-table-column",{attrs:{prop:"total",label:"实际付款金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("span",{staticStyle:{color:"red"},domProps:{textContent:e._s(t.row.total)}}):a("span",{staticStyle:{color:"#ccc"}},[e._v("未付款")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),a("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-button",{staticStyle:{color:"#409EFF"},attrs:{type:"text",size:"small"}},[e._v("\n                已付款\n              ")]):e._e(),0===t.row.status?a("el-button",{staticStyle:{color:"#ccc"},attrs:{type:"text",size:"small"}},[e._v("\n                未付款\n              ")]):e._e(),2===t.row.status?a("el-button",{staticStyle:{color:"#fc5350"},attrs:{type:"text",size:"small"}},[e._v("\n                已发货\n              ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._e(),a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.del(t.row.id,t.$index)}}},[e._v("删除\n              ")])]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":20,layout:"prev, pager, next",total:e.total},on:{"current-change":e.next}})],1)])])},ht=[],bt={name:"index",data:function(){return{data:[],form:{},username:"",total:0,page:1}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/order?username=".concat(this.username),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_del:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("order/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){ma.commit("set_id",e),ma.commit("add_tabs",{path:"edit-admin",name:"编辑订单"})},next:function(e){this.page=e,this._getData()},search:function(){this.username?this._getData():this.$message.error("用户名称不能为空")}}},vt=bt,gt=(a("b865"),Object(w["a"])(vt,ft,ht,!1,null,"3d2f03e8",null)),_t=gt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("管理员设置")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{label:"修改密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#f80003",cursor:"pointer"},attrs:{title:"修改密码"},on:{click:function(a){return e.change(t.row.id)}}},[e._v("*****")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"启用时间"}}),e._e()],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.page},on:{"current-page":e.next}})],1)])])},wt=[],yt={name:"index",data:function(){return{password:{new:"",old:""},data:[],total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/admin/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("admin/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){ma.commit("setid",e),ma.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),la.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){ma.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},kt=yt,Ct=Object(w["a"])(kt,xt,wt,!1,null,"735a047c",null),$t=Ct.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Rt=[],Ot={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},jt=Ot,Tt=(a("9b42"),Object(w["a"])(jt,St,Rt,!1,null,"6fff7cb8",null)),Dt=Tt.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Et=[],zt={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=ma.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Pt=zt,Bt=(a("49de"),Object(w["a"])(Pt,qt,Et,!1,null,"7e295c8a",null)),It=Bt.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("规则设置")]),a("el-breadcrumb-item",[e._v("规则列表")])],1)],1),a("div",{staticClass:"create"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"150"}}),a("el-table-column",{attrs:{label:"描述",prop:"describe"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"#409EFF"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.openEdit(t.row.id)}}},[e._v("\n                编辑\n              ")]),a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.del(t.row.id,t.$index)}}},[e._v("删除\n              ")])]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-page":e.next}})],1)])])},Ft=[],Ut={name:"index",data:function(){return{data:[],page:1,total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("rule");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_del:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/rule/".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){ma.commit("set_id",e),ma.commit("add_tabs",{path:"edit-rule",name:"编辑规则"})},create:function(){ma.commit("add_tabs",{path:"add-rule",name:"添加规则"})},next:function(e){this.page=e,this._getData()}}},Mt=Ut,Lt=Object(w["a"])(Mt,At,Ft,!1,null,"413df7d5",null),Wt=Lt.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增规则\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"规则标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入规则标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"规则描述",prop:"describe",rules:[{required:!0,message:"规则描述不能为空"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入规则描述",autosize:{minRows:8,maxRows:8}},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Ht=[],Jt={components:{},name:"add-rule",data:function(){return{form:{title:"",dscribe:""}}},mounted:function(){},methods:{_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("rule",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Qt=Jt,Gt=(a("053c"),Object(w["a"])(Qt,Nt,Ht,!1,null,"33e34e4c",null)),Kt=Gt.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑规则\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"规则标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入规则标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"规则描述",prop:"describe",rules:[{required:!0,message:"规则描述不能为空"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入规则描述",autosize:{minRows:8,maxRows:8}},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Xt=[],Yt={components:{},name:"add-rule",data:function(){return{data:{},form:{}}},mounted:function(){this.id=ma.state.id,this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/rule/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/rule/".concat(this.id),this.form,"PUT");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Zt=Yt,ea=(a("61de"),Object(w["a"])(Zt,Vt,Xt,!1,null,"3b34c05c",null)),ta=ea.exports,aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("兑换码")]),a("el-breadcrumb-item",[e._v("兑换码列表")])],1)],1),a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入兑换码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("el-dialog",{attrs:{title:"生成兑换码",visible:e.exchange,"append-to-body":!0},on:{"update:visible":function(t){e.exchange=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{prop:"number",label:"生成数量",rules:[{required:!0,message:"生成数量不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入要生成的兑换码数量",autocomplete:"off"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"兑换鸡蛋数量",prop:"egg",rules:[{required:!0,message:"兑换鸡蛋数量不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入兑换鸡蛋的数量",autocomplete:"off"},model:{value:e.form.egg,callback:function(t){e.$set(e.form,"egg",t)},expression:"form.egg"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){e.exchange=!1}}},[e._v("取消")])],1)],1)],1),a("div",{staticClass:"create"},[a("div",{staticStyle:{display:"flex"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")])],1),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"90"}}),a("el-table-column",{attrs:{prop:"username",label:"使用人"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("span",{staticClass:"success",domProps:{textContent:e._s(t.row.username)}}):a("span",[e._v("暂未使用")])]}}])}),a("el-table-column",{attrs:{prop:"code",label:"兑换码"}}),a("el-table-column",{attrs:{prop:"number",label:"兑换鸡蛋数量"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),a("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-button",{staticStyle:{color:"#409EFF"},attrs:{type:"text",size:"small"}},[e._v("\n                已使用\n              ")]):e._e(),0===t.row.status?a("el-button",{staticStyle:{color:"#ccc"},attrs:{type:"text",size:"small"}},[e._v("\n                未使用\n              ")]):e._e()]}}])})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":20,layout:"prev, pager, next",total:e.total},on:{"current-change":e.next}})],1)])])},ra=[],na={name:"index",data:function(){return{data:[],exchange:!1,form:{number:"",egg:""},code:"",total:0,page:1}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("/code?code=".concat(this.code),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){this.exchange=!0},_create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("code",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&(this.$message.success("添加成功"),this.exchange=!1,this._getData());case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(){this._create()},openEdit:function(e){ma.commit("set_id",e),ma.commit("add_tabs",{path:"edit-admin",name:"编辑订单"})},next:function(e){this.page=e,this._getData()},search:function(){this.code?this._getData():this.$message.error("兑换码不能为空")}}},sa=na,ia=(a("e8fb"),Object(w["a"])(sa,aa,ra,!1,null,"322b6752",null)),oa=ia.exports;r["default"].use(u["a"]);var ca=new u["a"]({routes:[{path:"/login",name:"登录",component:k},{path:"/",name:"主页",component:Z,meta:{keepAlive:!0}},{path:"/user",name:"用户列表",component:se,meta:{keepAlive:!0}},{path:"/edit-user",name:"编辑用户",component:me,meta:{keepAlive:!1}},{path:"/add-category",name:"添加分类",component:ot,meta:{keepAlive:!0}},{path:"/edit-category",name:"编辑分类",component:pt,meta:{keepAlive:!1}},{path:"/product",name:"商品列表",component:Pe,meta:{keepAlive:!0}},{path:"/add-product",name:"添加商品",component:We,meta:{keepAlive:!1}},{path:"/edit-product",name:"编辑商品",component:Ke,meta:{keepAlive:!1}},{path:"/category",name:"分类管理",component:tt,meta:{keepAlive:!0}},{path:"/add-category",name:"添加分类",component:ot,meta:{keepAlive:!1}},{path:"/edit-category",name:"编辑分类",component:pt,meta:{keepAlive:!1}},{path:"/business",name:"商家列表",component:ve,meta:{keepAlive:!0}},{path:"/add-business",name:"添加商家",component:ke,meta:{keepAlive:!1}},{path:"/edit-business",name:"编辑商家",component:je,meta:{keepAlive:!1}},{path:"/order",name:"订单列表",component:_t,meta:{keepAlive:!0}},{path:"/admin",name:"管理员设置",component:$t,meta:{keepAlive:!0}},{path:"/add-admin",name:"添加管理员",component:Dt,meta:{keepAlive:!1}},{path:"/edit-admin",name:"编辑管理员",component:It,meta:{keepAlive:!1}},{path:"/rule",name:"规则设置",component:Wt,meta:{keepAlive:!0}},{path:"/add-rule",name:"添加规则",component:Kt,meta:{keepAlive:!1}},{path:"/edit-rule",name:"编辑规则",component:ta,meta:{keepAlive:!1}},{path:"/code",name:"兑换码",component:oa,meta:{keepAlive:!1}}]});ca.beforeEach(function(e,t,a){var r=localStorage.getItem("token");if(!r){if("/login"!==e.path)return a({path:"/login",name:"登录"});a()}if("/login"===e.path)return a(r?{path:"/",name:"主页"}:{path:"/login",name:"登录"});a()});var la=ca;r["default"].use(l["a"]);var ua=new l["a"].Store({state:{table:{},coupon:{},id:0,path:[{path:"/",name:"主页"}],active:"/"},mutations:{set_id:function(e,t){this.state.id=t},edit_tabs:function(e,t){this.state.table=t},add_tabs:function(e,t){var a=!0;for(var r in this.state.path)this.state.path[r]["path"]!==t.path&&this.state.path[r]["path"]!=="/"+t.path||(a=!1);la.push(t),this.state.active=t.path,a&&this.state.path.push(t)},set_active_index:function(e,t){this.state.active=t}}}),ma=ua,da={name:"Index",data:function(){return{isCollapse:!1,out:!1,username:"admin",defaultTab:ma.state.active,tabs:ma.state.path}},computed:{active:{get:function(){return ma.state.active},set:function(e){this.defaultTab=e}}},watch:{name:function(){this.username=localStorage.getItem("username")}},mounted:function(){"/"!==this.$route.path&&(ma.commit("add_tabs",{path:this.$route.path,name:this.$route.name}),this.defaultTab=this.$route.path)},methods:{_getData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g("admin/findOne");case 2:t=e.sent,1e4===t.error_code&&(t.data||(this.admin=!0));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),capitalize:function(){return!0},addTab:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.defaultTab=e,ma.commit("add_tabs",{path:e,name:t,params:{id:a}})},onTabClick:function(e){this.defaultTab=e.$attrs.path,ma.commit("add_tabs",{path:e.$attrs.path,name:e.$attrs.title})},refresh:function(){window.location.reload()},showData:function(){this.$message.error("暂无资料")},loginOut:function(){var e=this;this.$confirm("此操作将退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){localStorage.removeItem("token"),la.push({path:"/login",name:"登录"}),window.location.reload()}).catch(function(){e.$message({type:"info",message:"已取消"})})},removeTab:function(e){var t=this.tabs;la.push({path:"/",name:"主页"}),this.defaultTab="/",this.tabs=t.filter(function(t){return t.name!==e})}}},pa=da,fa=(a("5648"),Object(w["a"])(pa,i,o,!1,null,null,null)),ha=fa.exports,ba={name:"app",components:{index:ha},computed:{isAuth:function(){return this.$route.path.match("login")}}},va=ba,ga=(a("034f"),Object(w["a"])(va,n,s,!1,null,null,null)),_a=ga.exports;a("8934"),a("c69f");r["default"].use(h.a);var xa=a("2819"),wa=a.n(xa),ya=a("9062"),ka=a.n(ya);a("e40d");r["default"].config.productionTip=!1,r["default"].prototype.Base="https://www.game577.cn/admin",r["default"].use(wa.a,ka.a),new r["default"]({router:la,render:function(e){return e(_a)}}).$mount("#app")},"5ea4":function(e,t,a){"use strict";var r=a("56c2"),n=a.n(r);n.a},"61de":function(e,t,a){"use strict";var r=a("91d0"),n=a.n(r);n.a},"64a9":function(e,t,a){},7469:function(e,t,a){"use strict";var r=a("9146"),n=a.n(r);n.a},"7f4b":function(e,t,a){"use strict";var r=a("f9f0"),n=a.n(r);n.a},8934:function(e,t,a){},"8b5a":function(e,t,a){},9146:function(e,t,a){},"91d0":function(e,t,a){},"9b42":function(e,t,a){"use strict";var r=a("2d46"),n=a.n(r);n.a},"9cc1":function(e,t,a){},aa27:function(e,t,a){},ac16:function(e,t,a){},adc6:function(e,t,a){},b865:function(e,t,a){"use strict";var r=a("d6c1"),n=a.n(r);n.a},c69f:function(e,t,a){},c73c:function(e,t,a){},cffc:function(e,t,a){"use strict";var r=a("3ed8"),n=a.n(r);n.a},d6c1:function(e,t,a){},daa6:function(e,t,a){},e466:function(e,t,a){},e8fb:function(e,t,a){"use strict";var r=a("1939"),n=a.n(r);n.a},edbe:function(e,t,a){"use strict";var r=a("aa27"),n=a.n(r);n.a},ef99:function(e,t,a){"use strict";var r=a("e466"),n=a.n(r);n.a},f66b:function(e,t,a){},f9f0:function(e,t,a){}});
//# sourceMappingURL=app.2d883e1e.js.map