(function(e){function t(t){for(var r,s,o=t[0],l=t[1],c=t[2],d=0,m=[];d<o.length;d++)s=o[d],n[s]&&m.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-admin/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00f1":function(e,t,a){},"034f":function(e,t,a){"use strict";var r=a("64a9"),n=a.n(r);n.a},"0e01":function(e,t,a){"use strict";var r=a("ed0b"),n=a.n(r);n.a},"135b":function(e,t,a){},"16b1":function(e,t,a){},"1c69":function(e,t,a){},"1f17":function(e,t,a){"use strict";var r=a("b7c4"),n=a.n(r);n.a},"283b":function(e,t,a){"use strict";var r=a("5361"),n=a.n(r);n.a},"2c75":function(e,t,a){"use strict";var r=a("135b"),n=a.n(r);n.a},"2d10":function(e,t,a){},"2e63":function(e,t,a){"use strict";var r=a("16b1"),n=a.n(r);n.a},"2f3b":function(e,t,a){"use strict";var r=a("2f61"),n=a.n(r);n.a},"2f61":function(e,t,a){},3063:function(e,t,a){},"3cac":function(e,t,a){},"3d84":function(e,t,a){},"3e46":function(e,t,a){"use strict";var r=a("842e"),n=a.n(r);n.a},"44a4":function(e,t,a){"use strict";var r=a("c4dd"),n=a.n(r);n.a},"463f":function(e,t,a){"use strict";var r=a("8390"),n=a.n(r);n.a},5361:function(e,t,a){},"56b6":function(e,t,a){"use strict";var r=a("3063"),n=a.n(r);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.isAuth?a("router-view"):a("index")],1)},i=[],s=(a("4917"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-container",[a("el-aside",{class:{aside:e.isCollapse}},[a("div",{staticClass:"side-menu"},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1",collapse:e.isCollapse,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-stopwatch"}),a("span",[e._v("控制台")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"},on:{click:function(t){return e.addTab("/","主页")}}},[e._v("主页")])],1)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[e._v("用户管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"},on:{click:function(t){return e.addTab("/user","用户列表")}}},[e._v("用户列表")]),a("el-menu-item",{attrs:{index:"2-2"},on:{click:function(t){return e.addTab("/shopowner","店长列表")}}},[e._v("店长列表")])],1)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[e._v("商品管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"},on:{click:function(t){return e.addTab("/goods","商品列表")}}},[e._v("商品列表")]),a("el-menu-item",{attrs:{index:"3-2"},on:{click:function(t){return e.addTab("/category","分类管理")}}},[e._v("分类管理")]),a("el-menu-item",{attrs:{index:"3-3"},on:{click:function(t){return e.addTab("/activity","活动列表")}}},[e._v("活动列表")]),a("el-menu-item",{attrs:{index:"3-4"},on:{click:function(t){return e.addTab("/hot","抢购列表")}}},[e._v("抢购列表")])],1)],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[e._v("订单管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"},on:{click:function(t){return e.addTab("/order","订单列表")}}},[e._v("订单列表")]),a("el-menu-item",{attrs:{index:"4-2"},on:{click:function(t){return e.addTab("/jdorder","京东账单")}}},[e._v("京东账单")])],1)],2),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[e._v("活动管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"5-1"},on:{click:function(t){return e.addTab("/banner","banner列表")}}},[e._v("banner列表")]),a("el-menu-item",{attrs:{index:"5-2"},on:{click:function(t){return e.addTab("/activity","活动列表")}}},[e._v("活动列表")])],1)],2),a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",[e._v("管理设置")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"6-1"},on:{click:function(t){return e.addTab("/store","门店列表")}}},[e._v("门店列表")]),a("el-menu-item",{attrs:{index:"6-2"},on:{click:function(t){return e.addTab("/pet","宠物列表")}}},[e._v("宠物列表")]),a("el-menu-item",{attrs:{index:"6-3"},on:{click:function(t){return e.addTab("/property","物业列表")}}},[e._v("物业列表")]),a("el-menu-item",{attrs:{index:"6-4"},on:{click:function(t){return e.addTab("/coupon","优惠券列表")}}},[e._v("优惠券列表")])],1)],2),a("el-submenu",{attrs:{index:"7"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",[e._v("管理员")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"7-1"},on:{click:function(t){return e.addTab("/admin","管理员设置")}}},[e._v("管理员设置")]),a("el-menu-item",{attrs:{index:"7-2"},on:{click:function(t){return e.addTab("/power","管理员设置")}}},[e._v("管理员设置")])],1)],2)],1)],1)],1)]),a("el-container",{staticClass:"header-main",class:{"header-main-left":e.isCollapse}},[a("el-header",{class:{"header-main-left":e.isCollapse}},[a("div",{staticClass:"header"},[a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("span",{attrs:{title:"侧边伸缩"},on:{click:function(t){e.isCollapse=!e.isCollapse}}},[a("i",{class:{"el-icon-s-fold":!e.isCollapse,"el-icon-s-unfold":e.isCollapse}})])]),a("li",{staticClass:"nav-item"},[a("span",{attrs:{title:"刷新"},on:{click:e.refresh}},[a("i",{staticClass:"el-icon-refresh"})])])]),a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("span",[a("i",{staticClass:"el-icon-bell"}),a("span",{staticClass:"badge-dot"})])]),a("li",{staticClass:"nav-item"},[a("span",[a("i",{staticClass:"icon el-icon-rank"})])]),a("li",{staticClass:"nav-item",on:{mouseenter:function(t){e.out=!0},mouseleave:function(t){e.out=!1}}},[a("span",{domProps:{textContent:e._s(e.username)}}),a("el-collapse-transition",[a("dl",{directives:[{name:"show",rawName:"v-show",value:e.out,expression:"out"}],staticClass:"nav-child"},[a("span",{on:{click:e.showData}},[e._v("基本资料")]),a("span",{on:{click:function(t){return e.addTab("/admin","管理员设置")}}},[e._v("修改密码")]),a("span",{on:{click:e.loginOut}},[e._v("退出")])])])],1)])]),a("el-tabs",{attrs:{type:"card"},on:{"tab-remove":e.removeTab,"tab-click":e.onTabClick},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.tabs,function(e,t){return a("el-tab-pane",{key:t,attrs:{path:e.path,title:e.name,label:e.name,name:e.path,lazy:!0,closable:!1}})}),1)],1),a("el-main",{class:{"padding-left":e.isCollapse}},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():a("router-view")],1)],1)],1)],1)}),o=[],l=(a("96cf"),a("3b8d")),c=(a("7f7f"),a("2f62")),u=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-layout"},[a("div",{staticClass:"main row"},[a("div",{staticClass:"auth-content"},[a("div",{staticClass:"login"},[a("h2",[e._v("欢迎登录后台系统!")]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",id:"email",required:"required",placeholder:"用户名"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),a("i",{staticClass:"bar"})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",required:"required",placeholder:"密码"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("i",{staticClass:"bar"})])]),a("div",{staticClass:"down-container"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:e.login}},[e._v("\n            登录\n          ")])])])]),e._m(0)])])},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-wallpaper"},[a("div",{staticClass:"oblique"})])}],p={name:"login",data:function(){return{user:{name:"",password:""}}},methods:{login:function(){return this.user.name.trim().length?this.user.password.trim().length?(this.$message.success("登录成功"),localStorage.setItem("token","token"),localStorage.setItem("username",this.user.name),hn.push({path:"/",name:"主页"}),void window.location.reload()):(this.$message.error("密码不能为空"),!1):(this.$message.error("用户名不能为空"),!1)}}},f=p,h=(a("a8c9"),a("2877")),v=Object(h["a"])(f,d,m,!1,null,"02ec3ac0",null),g=v.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"left"},[a("div",{staticClass:"number"},e._l(e.list,function(e,t){return a("keep-alive",{key:t},[a("number",{attrs:{title:e.title,tag:e.tag,number:e.number}})],1)}),1),a("keep-alive",[a("user",{attrs:{userData:e.userData}})],1)],1),a("div",{staticClass:"right"},[a("keep-alive",[a("cpu")],1),a("keep-alive",[a("Index")],1)],1)])},_=[],y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("版本信息")]),a("div",{staticClass:"card-body text"},[e._m(0),a("table",{staticClass:"table"},[a("tbody",e._l(e.data,function(t,r){return a("tr",{key:r},[a("td",{domProps:{textContent:e._s(r)}}),a("td",{domProps:{textContent:e._s(t)}})])}),0)])])])},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{attrs:{width:"100"}}),a("col")])}],x=a("5c96"),k=a.n(x),C=a("6829"),$="";function S(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return C.request(e,t,{method:a})}C.config.baseURL="http://127.0.0.1:8081/admin",C.interceptors.request.use(function(e){return $=x["Loading"].service({fullscreen:!0}),e.headers["token"]=localStorage.getItem("token"),e}),C.interceptors.response.use(function(e,t){return $.close(),t.resolve(e.data)},function(e,t){return 9999===e.response.data.error_code&&(localStorage.clear(),window.location.reload()),$.close(),t.resolve()});var R={name:"index",data:function(){return{data:[]}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/console/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},O=R,T=Object(h["a"])(O,y,w,!1,null,"791679a7",null),j=T.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("span",{domProps:{textContent:e._s(e.title)}}),a("em",{domProps:{textContent:e._s(e.tag)}})]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-number"},[a("span",{domProps:{textContent:e._s(e.number)}})])])])},D=[],q=(a("c5f6"),{props:{title:{type:String,default:"本周注册"},tag:{type:String,default:"周"},number:{type:Number,default:0}},data:function(){return{}},name:"number"}),B=q,P=(a("c98d"),Object(h["a"])(B,A,D,!1,null,null,null)),z=P.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("实时监控")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"progress-item"},[a("h3",[e._v("cpu使用率")]),a("div",{staticClass:"progress-bar"},[a("span",{staticClass:"progress-text",domProps:{textContent:e._s(e.cpu)}},[e._v("%")])])]),a("div",{staticClass:"progress-item"},[a("h3",[e._v("内存使用率")]),a("div",{staticClass:"progress-bar"},[a("span",{staticClass:"progress-text",domProps:{textContent:e._s(e.memory)}},[e._v("%")])])])])])},I=[],L={name:"cpu",data:function(){return{cpu:0,memory:0}},created:function(){this.cpu=parseFloat(10*Math.random()).toFixed(2),this.memory=parseFloat(10*Math.random()).toFixed(2)}},W=L,G=(a("f54c"),Object(h["a"])(W,E,I,!1,null,"9804386c",null)),H=G.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("用户统计")]),a("div",{staticClass:"card-body text"},[a("ve-line",{attrs:{data:e.userData}})],1)])},N=[],U={name:"user",props:{userData:{}}},F=U,J=Object(h["a"])(F,M,N,!1,null,null,null),Q=J.exports,K={components:{User:Q,Cpu:H,number:z,Index:j},name:"index",data:function(){return{list:[{title:"访问量",tag:"今",number:100},{title:"访问量",tag:"周",number:9999},{title:"注册量",tag:"今",number:100},{title:"注册量",tag:"周",number:1999}],userData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}}},V=K,X=(a("283b"),Object(h["a"])(V,b,_,!1,null,null,null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",[e._v("用户列表")])],1)],1),a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入微信名"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"pid",label:"推荐人",width:"150"}}),a("el-table-column",{attrs:{prop:"nickname",label:"微信名称",width:"150"}}),a("el-table-column",{attrs:{label:"用户头像",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#67C23A"},on:{click:function(a){return e.look(t.row.avatar)}}},[e._v("点击查看")])]}}])}),a("el-table-column",{attrs:{prop:"location",label:"用户地址",width:"150"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"120"}}),a("el-table-column",{attrs:{prop:"create_time",label:"注册时间"}}),a("el-table-column",{attrs:{label:"设置"},scopedSlots:e._u([{key:"default",fn:function(t){return[t?a("el-button",{attrs:{type:"primary",size:"mini",plain:""}},[e._v("编辑")]):e._e()]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.change}})],1)])])},ee=[],te=(a("28a5"),{name:"index",data:function(){return{title:"",page:1,pageSize:20,total:0,data:[]}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/user/index?page=".concat(this.page),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data.map(function(e){return e.create_time=e.create_time.substring(0,10),e}),this.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_delete:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/user/delete/id/".concat(t));case 2:r=e.sent,1e4===r.error_code?(this.$message({type:"success",message:"操作成功!"}),this.data.split(a,1)):this.$message({type:"error",message:"操作失败!"});case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),update:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-user",name:"编辑员工"})},create:function(){gn.commit("add_tabs",{path:"add-user",name:"添加员工"})},remove:function(e,t){var a=this,r="确认删除该信息";this.$confirm(r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._delete(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},change:function(e){this.page=e,this._getData()}}}),ae=te,re=Object(h["a"])(ae,Z,ee,!1,null,"4bf00f3a",null),ne=re.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增员工\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"职位",prop:"position",rules:[{required:!0,message:"职位标题不能为空"}]}},[a("el-input",{model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}})],1),a("el-form-item",{attrs:{label:"选择车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择归属车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},se=[],oe={components:{},name:"add-user",data:function(){return{status:!1,action:this.Base+"/admin/tools/uploads",headers:{token:""},data:[],form:{pid:"",name:"",username:"",password:"",avatar:"",remarks:"",position:""}}},mounted:function(){this.headers.token=localStorage.getItem("token"),this._getWorkshop()},methods:{_getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/workshop/index?pid=1");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/user/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_isNull:function(e){if(!e||null===e||""===e||"undefined"===typeof e||!e.trim().length||"null"===e)return!0},handleAvatarSuccess:function(e){this.form.avatar=e.url},handleRemove:function(){this.form.avatar=""},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},le=oe,ce=(a("2e63"),Object(h["a"])(le,ie,se,!1,null,"d32f8780",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑员工\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"职位",prop:"position",rules:[{required:!0,message:"职位标题不能为空"}]}},[a("el-input",{model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}})],1),a("el-form-item",{attrs:{label:"积分",prop:"number",rules:[{required:!0,message:"积分不能为空"}]}},[a("el-input",{model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"选择车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择归属车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"file-list":e.avatar,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},me=[],pe={components:{},name:"add-user",data:function(){return{status:!1,action:this.Base+"/admin/tools/uploads",headers:{token:""},id:0,data:[],avatar:[],form:{pid:"",name:"",username:"",number:"",password:"",avatar:"",remarks:"",position:""}}},mounted:function(){this.id=gn.state.id,this.headers.token=localStorage.getItem("token"),this._getWorkshop(),this._getData()},methods:{_getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/workshop/index");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/user/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data,this.avatar=[{name:"用户头像",url:t.data.avatar}]);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/user/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_isNull:function(e){if(!e||null===e||""===e||"undefined"===typeof e||!e.trim().length||"null"===e)return!0},handleAvatarSuccess:function(e){this.form.avatar=e.url},handleRemove:function(){this.form.avatar="",this.avatar=[]},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},fe=pe,he=(a("d03c"),Object(h["a"])(fe,de,me,!1,null,"a3052b6c",null)),ve=he.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("活动")]),a("el-breadcrumb-item",[e._v("活动管理")])],1)],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入活动名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("el-dialog",{attrs:{title:e.cateTitle,visible:e.layer.add,"append-to-body":e.isBody},on:{"update:visible":function(t){return e.$set(e.layer,"add",t)}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.createCategory}},[e._v("添加到该活动")]),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.goodsTitle,callback:function(t){e.goodsTitle=t},expression:"goodsTitle"}}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchTitle},slot:"append"},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.lists},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题"}})],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":"20",layout:"prev, pager, next",total:e.layer.total},on:{"current-change":e.handleChange}})],1)],1),a("el-dialog",{attrs:{width:"70%",title:e.cateTitle,visible:e.layer.look,"append-to-body":e.isBody},on:{"update:visible":function(t){return e.$set(e.layer,"look",t)}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.removeCategory}},[e._v("移除")]),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.look.title,callback:function(t){e.$set(e.look,"title",t)},expression:"look.title"}}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchTitle},slot:"append"},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.look.data},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题"}}),e.category?a("el-table-column",{attrs:{prop:"sort",label:"排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"商品排序越大越靠前",placeholder:"商品排序越大越靠前"},on:{blur:function(a){return e.changeActivitySort(t.row.tid,t.row.sort,1)}},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}],null,!1,2880393611)}):e._e(),e.category?a("el-table-column",{attrs:{label:"开启新人",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#cccccc"},on:{change:function(a){return e.changeSwith(t.row.tid,t.row.new)}},model:{value:t.row.new,callback:function(a){e.$set(t.row,"new",a)},expression:"scope.row.new"}})]}}],null,!1,2141450907)}):e._e(),e.category?a("el-table-column",{attrs:{label:"参加人数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"请输入最少人数",placeholder:"请输入最少人数"},on:{blur:function(a){return e.changeActivitySort(t.row.tid,t.row.number,2)}},model:{value:t.row.number,callback:function(a){e.$set(t.row,"number",a)},expression:"scope.row.number"}})]}}],null,!1,1263095112)}):e._e(),e.category?a("el-table-column",{attrs:{label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"请输入商品价格",placeholder:"请输入商品价格"},on:{blur:function(a){return e.changeActivitySort(t.row.tid,t.row.price,3)}},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"scope.row.price"}})]}}],null,!1,2838088041)}):e._e()],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":20,layout:"prev, pager, next",total:e.look.total},on:{"current-change":e.handleChange}})],1)],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(t.row.title)}}),t.row.category?a("em",{staticClass:"success",domProps:{textContent:e._s(1===t.row.category?"砍价":"团购")}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间"}}),a("el-table-column",{attrs:{prop:"sort",width:"180",label:"商品排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"商品排序越大越靠前",placeholder:"商品排序越大越靠前"},on:{blur:function(a){return e.changeSort(t.row.id,t.row.sort)}},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-view"},on:{click:function(a){return e._look(t.row.id,t.row.category)}}}),a("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-plus"},on:{click:function(a){return e.add(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},be=[],_e={name:"index",data:function(){return{data:[],lists:[],cate:1,layer:{add:!1,page:0,total:0,look:!1},look:{data:[],page:0,total:0,title:""},isBody:!0,checkAll:!1,isIndeterminate:!0,goodsTitle:"",cateTitle:"添加活动",category:0,types:0,idAll:[],title:"",page:1,total:0}},created:function(){this._getData(),this._getLists()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/index?page=".concat(this.page,"&title=").concat(this.title,"&cate=0"),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLists:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.layer.page,"&title=").concat(this.goodsTitle),"");case 2:t=e.sent,1e4===t.error_code&&(this.lists=t.data.data,this.layer.page=t.data.current_page,this.layer.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLook:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/activity?page=".concat(this.look.page,"&pid=").concat(this.id,"&title=").concat(this.look.title),"");case 2:t=e.sent,1e4===t.error_code&&(this.look.data=t.data.data,this.look.page=t.data.current_page,this.look.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){gn.commit("add_tabs",{path:"add-category",name:"添加活动"})},_change:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/update/id/".concat(t),{status:r},"POST");case 2:n=e.sent,1e4===n.error_code?this.$message("修改成功"):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_createCategory:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("activity/create",{id:this.id,all:this.idAll},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_updateCategory:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("activity/update/id/".concat(this.id),{all:this.idAll},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_changeSort:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/activity/updates/id/".concat(t),{sort:a},"POST");case 2:r=e.sent,1e4===r.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),_changeActivity:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/activity/updateData/id/".concat(t),a,"POST");case 2:r=e.sent,1e4===r.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),changeSort:function(e,t){this._changeSort(e,t)},changeActivitySort:function(e,t,a){1===a?this._changeActivity(e,{sort:t}):2===a?this._changeActivity(e,{number:t}):this._changeActivity(e,{price:t})},changeSwith:function(e,t){this._changeActivity(e,{new:t?1:0})},add:function(e){this.cateTitle="添加活动",this.id=e,this.layer.add=!0},_look:function(e,t){this.id=e,this.layer.look=!0,this.cateTitle="编辑活动",this.category=t,this._getLook()},handleSelectionChange:function(e){var t=this;this.idAll=[],e.map(function(e){t.idAll.push(e.id)})},searchTitle:function(){this.goodsTitle?this._getLists():this.$message.error("商品标题不能为空")},createCategory:function(){this.idAll.length?this._createCategory():this.$message.error("请选择商品")},removeCategory:function(){this.idAll.length?this._updateCategory():this.$message.error("请选择商品")},_detele:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/delete/id/".concat(t));case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-category",name:"编辑分类"})},handleCurrentChange:function(e){this.page=e,this._getData()},handleChange:function(e){this.layer.page=e,this._getLists()},search:function(){this.title||this.cate?this._getData():this.$message("活动标题不能为空")}}},ye=_e,we=(a("d3ea"),Object(h["a"])(ye,ge,be,!1,null,"0f76ee8d",null)),xe=we.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("抢购列表")])],1)],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-remove"},on:{click:e.remove}},[e._v("移除")])],1),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("el-dialog",{attrs:{title:"添加到抢购",visible:e.layer.add,"append-to-body":e.isBody},on:{"update:visible":function(t){return e.$set(e.layer,"add",t)}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.createGoods}},[e._v("添加到抢购")]),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.goodsTitle,callback:function(t){e.goodsTitle=t},expression:"goodsTitle"}}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchTitle},slot:"append"},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.lists},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题"}})],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":"20",layout:"prev, pager, next",total:e.layer.total},on:{"current-change":e.handleChange}})],1)],1),a("div",{staticClass:"card-body text"},[a("el-table",{attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"attr[0].price",width:"80",label:"参考价"}}),a("el-table-column",{staticClass:"danger",attrs:{prop:"attr[0].cprice",width:"80",label:"当前价"}}),a("el-table-column",{attrs:{prop:"attr[0].jdprice",width:"80",label:"京东价"}}),a("el-table-column",{attrs:{prop:"brand",width:"80",label:"品牌"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},Ce=[],$e={name:"index",data:function(){return{data:[],lists:[],cate:1,layer:{add:!1,page:0,total:0,look:!1},look:{data:[],page:0,total:0,title:""},isBody:!0,checkAll:!1,isIndeterminate:!0,goodsTitle:"",cateTitle:"添加抢购",types:0,idAll:[],title:"",page:1,total:0}},created:function(){this._getData(),this._getLists()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.page,"&title=").concat(this.title,"&hot=1"),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLists:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.layer.page,"&title=").concat(this.goodsTitle),"");case 2:t=e.sent,1e4===t.error_code&&(this.lists=t.data.data,this.layer.page=t.data.current_page,this.layer.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLook:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods?page=".concat(this.look.page,"&pid=").concat(this.id,"&title=").concat(this.look.title),"");case 2:t=e.sent,1e4===t.error_code&&(this.look.data=t.data.data,this.look.page=t.data.current_page,this.look.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){this.layer.add=!0},remove:function(){this.idAll.length?this._createGoods(0):this.$message.error("请选择商品")},_change:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/update/id/".concat(t),{form:{status:r}},"POST");case 2:n=e.sent,1e4===n.error_code?(this.data[a]["status"]=r,this.$message("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_createGoods:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("goods/updateHotAll",{status:t,all:this.idAll},"POST");case 2:a=e.sent,1e4===a.error_code&&this.$message.success("操作成功");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_updateGoods:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("goods/update/id/".concat(this.id),{all:this.idAll},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){var t=this;this.idAll=[],e.map(function(e){t.idAll.push(e.id)})},searchTitle:function(){this.goodsTitle?this._getLists():this.$message.error("商品标题不能为空")},createGoods:function(){this.idAll.length?this._createGoods(1):this.$message.error("请选择商品")},removeGoods:function(){this.idAll.length?this._updateGoods():this.$message.error("请选择商品")},_detele:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/delete/id/".concat(t));case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-goods",name:"编辑商品"})},handleCurrentChange:function(e){this.page=e,this._getData()},handleChange:function(e){this.layer.page=e,this._getLists()},search:function(){this.title||this.cate?this._getData():this.$message("分类标题不能为空")}}},Se=$e,Re=Object(h["a"])(Se,ke,Ce,!1,null,"777b51df",null),Oe=Re.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("团购列表")])],1)],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-remove"},on:{click:e.remove}},[e._v("移除")])],1),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("el-dialog",{attrs:{title:"添加到团购",visible:e.layer.add,"append-to-body":e.isBody},on:{"update:visible":function(t){return e.$set(e.layer,"add",t)}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.createGoods}},[e._v("添加到团购")]),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.goodsTitle,callback:function(t){e.goodsTitle=t},expression:"goodsTitle"}}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchTitle},slot:"append"},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.lists},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题"}})],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":"20",layout:"prev, pager, next",total:e.layer.total},on:{"current-change":e.handleChange}})],1)],1),a("div",{staticClass:"card-body text"},[a("el-table",{attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"attr[0].price",width:"80",label:"参考价"}}),a("el-table-column",{staticClass:"danger",attrs:{prop:"attr[0].cprice",width:"80",label:"当前价"}}),a("el-table-column",{attrs:{prop:"attr[0].jdprice",width:"80",label:"京东价"}}),a("el-table-column",{attrs:{prop:"brand",width:"80",label:"品牌"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},je=[],Ae={name:"index",data:function(){return{data:[],lists:[],cate:1,layer:{add:!1,page:0,total:0,look:!1},look:{data:[],page:0,total:0,title:""},isBody:!0,checkAll:!1,isIndeterminate:!0,goodsTitle:"",cateTitle:"添加团购",types:0,idAll:[],title:"",page:1,total:0}},created:function(){this._getData(),this._getLists()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/index?page=1&title=&cate=0&id=10","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLists:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.layer.page,"&title=").concat(this.goodsTitle),"");case 2:t=e.sent,1e4===t.error_code&&(this.lists=t.data.data,this.layer.page=t.data.current_page,this.layer.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLook:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods?page=".concat(this.look.page,"&pid=").concat(this.id,"&title=").concat(this.look.title),"");case 2:t=e.sent,1e4===t.error_code&&(this.look.data=t.data.data,this.look.page=t.data.current_page,this.look.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){this.layer.add=!0},remove:function(){this.idAll.length?this._createGoods(0):this.$message.error("请选择商品")},_change:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/update/id/".concat(t),{form:{status:r}},"POST");case 2:n=e.sent,1e4===n.error_code?(this.data[a]["status"]=r,this.$message("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_createGoods:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("goods/updateHotAll",{status:t,all:this.idAll},"POST");case 2:a=e.sent,1e4===a.error_code&&this.$message.success("操作成功");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_updateGoods:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("goods/update/id/".concat(this.id),{all:this.idAll},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){var t=this;this.idAll=[],e.map(function(e){t.idAll.push(e.id)})},searchTitle:function(){this.goodsTitle?this._getLists():this.$message.error("商品标题不能为空")},createGoods:function(){this.idAll.length?this._createGoods(1):this.$message.error("请选择商品")},removeGoods:function(){this.idAll.length?this._updateGoods():this.$message.error("请选择商品")},_detele:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/delete/id/".concat(t));case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-goods",name:"编辑商品"})},handleCurrentChange:function(e){this.page=e,this._getData()},handleChange:function(e){this.layer.page=e,this._getLists()},search:function(){this.title||this.cate?this._getData():this.$message("分类标题不能为空")}}},De=Ae,qe=Object(h["a"])(De,Te,je,!1,null,"56c60c9f",null),Be=qe.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("砍价列表")])],1)],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-remove"},on:{click:e.remove}},[e._v("移除")])],1),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("el-dialog",{attrs:{title:"添加到砍价",visible:e.layer.add,"append-to-body":e.isBody},on:{"update:visible":function(t){return e.$set(e.layer,"add",t)}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.createGoods}},[e._v("添加到砍价")]),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.goodsTitle,callback:function(t){e.goodsTitle=t},expression:"goodsTitle"}}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchTitle},slot:"append"},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.lists},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题"}})],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":"20",layout:"prev, pager, next",total:e.layer.total},on:{"current-change":e.handleChange}})],1)],1),a("div",{staticClass:"card-body text"},[a("el-table",{attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"attr[0].price",width:"80",label:"参考价"}}),a("el-table-column",{staticClass:"danger",attrs:{prop:"attr[0].cprice",width:"80",label:"当前价"}}),a("el-table-column",{attrs:{prop:"attr[0].jdprice",width:"80",label:"京东价"}}),a("el-table-column",{attrs:{prop:"brand",width:"80",label:"品牌"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},ze=[],Ee={name:"index",data:function(){return{data:[],lists:[],cate:1,layer:{add:!1,page:0,total:0,look:!1},look:{data:[],page:0,total:0,title:""},isBody:!0,checkAll:!1,isIndeterminate:!0,goodsTitle:"",cateTitle:"添加砍价",types:0,idAll:[],title:"",page:1,total:0}},created:function(){this._getData(),this._getLists()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/index?page=1&title=&cate=0&id=9","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLists:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.layer.page,"&title=").concat(this.goodsTitle),"");case 2:t=e.sent,1e4===t.error_code&&(this.lists=t.data.data,this.layer.page=t.data.current_page,this.layer.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLook:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods?page=".concat(this.look.page,"&pid=").concat(this.id,"&title=").concat(this.look.title),"");case 2:t=e.sent,1e4===t.error_code&&(this.look.data=t.data.data,this.look.page=t.data.current_page,this.look.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){this.layer.add=!0},remove:function(){this.idAll.length?this._createGoods(0):this.$message.error("请选择商品")},_change:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/update/id/".concat(t),{form:{status:r}},"POST");case 2:n=e.sent,1e4===n.error_code?(this.data[a]["status"]=r,this.$message("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_createGoods:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("goods/updateHotAll",{status:t,all:this.idAll},"POST");case 2:a=e.sent,1e4===a.error_code&&this.$message.success("操作成功");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_updateGoods:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("goods/update/id/".concat(this.id),{all:this.idAll},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){var t=this;this.idAll=[],e.map(function(e){t.idAll.push(e.id)})},searchTitle:function(){this.goodsTitle?this._getLists():this.$message.error("商品标题不能为空")},createGoods:function(){this.idAll.length?this._createGoods(1):this.$message.error("请选择商品")},removeGoods:function(){this.idAll.length?this._updateGoods():this.$message.error("请选择商品")},_detele:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/delete/id/".concat(t));case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-goods",name:"编辑商品"})},handleCurrentChange:function(e){this.page=e,this._getData()},handleChange:function(e){this.layer.page=e,this._getLists()},search:function(){this.title||this.cate?this._getData():this.$message("分类标题不能为空")}}},Ie=Ee,Le=Object(h["a"])(Ie,Pe,ze,!1,null,"9029bbac",null),We=Le.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("广告设置")])],1)],1),a("div",{staticClass:"create"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",width:"50",label:"ID"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"url",label:"广告地址"}}),a("el-table-column",{attrs:{prop:"sort",width:"180",label:"排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"排序越大越靠前",placeholder:"排序越大越靠前"},on:{blur:function(a){return e.changeSort(t.row.id,t.row.sort)}},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),a("el-table-column",{attrs:{label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.category?a("span",[e._v("宠物名片广告")]):e._e(),1===t.row.category?a("span",[e._v("弹出式海报")]):e._e(),2===t.row.category?a("span",[e._v("捡便箱广告")]):e._e(),3===t.row.category?a("span",[e._v("商城banner")]):e._e(),4===t.row.category?a("span",[e._v("抢购banner")]):e._e(),5===t.row.category?a("span",[e._v("活动历史")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"#409EFF"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.openEdit(t.row.id)}}},[e._v("\n                编辑\n              ")]),a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.del(t.row.id,t.$index)}}},[e._v("删除\n              ")])]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":"20",total:e.total},on:{"current-change":e.next}})],1)])])},He=[],Me={name:"index",data:function(){return{password:{new:"",old:""},data:[],page:1,total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/banner/index?page=".concat(this.page),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("banner/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),_changeSort:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/banner/update/id/".concat(t),{sort:a},"POST");case 2:r=e.sent,1e4===r.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),changeSort:function(e,t){this._changeSort(e,t)},del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-banner",name:"编辑banner"})},create:function(){gn.commit("add_tabs",{path:"add-banner",name:"添加banner"})},next:function(e){this.page=e,this._getData()}}},Ne=Me,Ue=Object(h["a"])(Ne,Ge,He,!1,null,"4955588e",null),Fe=Ue.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增广告海报\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"广告归属",prop:"category",rules:[{required:!0,message:"广告归属不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择广告归属"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.allCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"广告归属为捡便箱广告时，标题为广告商名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"describe",rules:[{required:!0,message:"describe不能为空"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"广告归属为捡便箱广告时，描述为广告商业务"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",{attrs:{label:"广告类型",prop:"types",rules:[{required:!0,message:"广告类型不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择广告类型"},model:{value:e.form.types,callback:function(t){e.$set(e.form,"types",t)},expression:"form.types"}},e._l(e.allTypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"广告链接",prop:"url",rules:[{required:!0,message:"广告链接不能为空"}]}},[a("el-input",{attrs:{placeholder:"购买页面路径pages/detail/main?id=商品ID，活动路径：pages/search/main?id=活动ID&title=疯狂的小狗"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"广告图片",prop:"types",rules:[{required:!0,message:"广告链接不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，宠物名片广告:500*200 弹出海报:800*600 捡便箱广告:550*470 商城banner:750*550")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Qe=[],Ke={components:{},name:"add-banner",data:function(){return{data:{},action:this.Base+"/admin/tools/upload",allCategory:[{id:0,title:"宠物名片广告"},{id:1,title:"弹出海报"},{id:2,title:"捡便箱广告"},{id:3,title:"商城banner"},{id:4,title:"抢购banner"},{id:5,title:"活动历史"}],allTypes:[{id:0,title:"商品链接"},{id:1,title:"打开网页"}],form:{title:"",describe:"",types:"",category:"",url:"",image:""}}},mounted:function(){},methods:{_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/banner/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.url},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Ve=Ke,Xe=(a("aece"),Object(h["a"])(Ve,Je,Qe,!1,null,"18c32910",null)),Ye=Xe.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增广告海报\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"广告归属",prop:"category",rules:[{required:!0,message:"广告归属不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择广告归属"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.allCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"广告归属为捡便箱广告时，标题为广告商名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"describe",rules:[{required:!0,message:"describe不能为空"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"广告归属为捡便箱广告时，描述为广告商业务"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",{attrs:{label:"广告类型",prop:"types",rules:[{required:!0,message:"广告类型不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择广告类型"},model:{value:e.form.types,callback:function(t){e.$set(e.form,"types",t)},expression:"form.types"}},e._l(e.allTypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"广告链接",prop:"url",rules:[{required:!0,message:"广告链接不能为空"}]}},[a("el-input",{attrs:{placeholder:"跳转到商品是输入商品ID即可，打开网页时请输入公众号文章"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"广告图片",prop:"types",rules:[{required:!0,message:"广告链接不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"file-list":[{name:"缩略图",url:e.form.image}],"on-success":e.imageSuccess,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，宠物名片广告:500*200 弹出海报:800*600 捡便箱广告:550*470 商城banner:750*550")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},et=[],tt={components:{},name:"add-banner",data:function(){return{data:{},action:this.Base+"/admin/tools/upload",allCategory:[{id:0,title:"宠物名片广告"},{id:1,title:"弹出海报"},{id:2,title:"捡便箱广告"},{id:3,title:"商城banner"},{id:4,title:"抢购banner"},{id:5,title:"活动历史"}],allTypes:[{id:0,title:"商品链接"},{id:1,title:"打开网页"}],form:{title:"",describe:"",types:"",category:"",url:"",image:""}}},mounted:function(){this.id=gn.state.id,this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("banner/read?id=".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/banner/update/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.url},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},at=tt,rt=(a("dfad"),Object(h["a"])(at,Ze,et,!1,null,"687f1f1c",null)),nt=rt.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品")]),a("el-breadcrumb-item",[e._v("商品列表")])],1)],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-select",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择"},model:{value:e.cate,callback:function(t){e.cate=t},expression:"cate"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("div",{staticStyle:{display:"flex"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])]),a("div",{staticClass:"card-body text"},[a("el-table",{attrs:{data:e.data},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",width:"80",label:"ID"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{attrs:{title:t.row.title},domProps:{textContent:e._s(t.row.title)}})]}}])}),a("el-table-column",{attrs:{prop:"category_title",width:"120",label:"商品分类"}}),a("el-table-column",{attrs:{prop:"attr[0].price",width:"80",label:"参考价"}}),a("el-table-column",{staticClass:"danger",attrs:{prop:"attr[0].cprice",width:"80",label:"当前价"}}),a("el-table-column",{attrs:{prop:"attr[0].jdprice",width:"80",label:"进货价"}}),a("el-table-column",{attrs:{prop:"sort",width:"100",label:"商品排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"商品排序越大越靠前",placeholder:"商品排序越大越靠前"},on:{blur:function(a){return e.changeSort(t.row.id,t.row.sort)}},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),a("el-table-column",{attrs:{prop:"brand",width:"80",label:"品牌"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":e.pagsize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},st=[],ot={name:"index",data:function(){return{data:[],page:1,idAll:[],options:[],pagsize:20,cate:"",title:"",total:0}},created:function(){this._getData(),this._getCategory()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.page,"&title=").concat(this.title,"&types=").concat(this.cate),"");case 2:t=e.sent,1e4===t.error_code?(this.data=t.data.data,this.total=t.data.total,this.page=parseInt(t.data.current_page)):(this.data=[],this.total=0,this.page=0);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getCategory:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/index?list=1","");case 2:t=e.sent,1e4===t.error_code&&t.data.category.map(function(e){a.options.push({value:e.value,label:e.label})});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){gn.commit("add_tabs",{path:"add-goods",name:"添加商品"}),this.defaultTab=this.$route.path},_change:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/update/id/".concat(t),{form:{status:r}},"POST");case 2:n=e.sent,1e4===n.error_code?(this.data[a]["status"]=r,this.$message("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_changeAll:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/updateAll",{status:t,id:this.idAll},"POST");case 2:a=e.sent,1e4===a.error_code?this.$message.success("修改成功"):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_detele:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/delete/id/".concat(t));case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),_changeSort:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/updates/id/".concat(t),{sort:a},"POST");case 2:r=e.sent,1e4===r.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),changeSort:function(e,t){this._changeSort(e,t)},changeStatus:function(e){this.idAll.length?this._changeAll(e):this.$message.error("请选择商品")},handleSelectionChange:function(e){var t=this;this.idAll=[],e.map(function(e){t.idAll.push(e.id)})},change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-goods",name:"编辑商品"})},handleCurrentChange:function(e){this.page=e,this._getData()},search:function(){this.title||this.cate?this._getData():this.$message("商品标题不能为空")}}},lt=ot,ct=Object(h["a"])(lt,it,st,!1,null,"13297a63",null),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增商品\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"商品标题不能为空"}]}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"商品描述",prop:"describe",rules:[{required:!0,message:"describe不能为空"}]}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",{attrs:{label:"商品备注",prop:"remark",rules:[{required:!0,message:"商品备注不能为空"}]}},[a("el-input",{attrs:{placeholder:"京东商品满99包邮"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"category",rules:[{required:!0,message:"商品分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.catagory,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品品牌",prop:"brand_id",rules:[{required:!0,message:"商品品牌不能为空"}]}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品品牌"},model:{value:e.form.brand_id,callback:function(t){e.$set(e.form,"brand_id",t)},expression:"form.brand_id"}},e._l(e.brand,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品品牌",prop:"brand",rules:[{required:!0,message:"商品品牌不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品品牌"},model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand",t)},expression:"form.brand"}})],1),a("el-form-item",{attrs:{label:"开启抢购"}},[a("el-switch",{on:{change:e.changeOpen},model:{value:e.isopen,callback:function(t){e.isopen=t},expression:"isopen"}})],1),a("el-form-item",{attrs:{label:"设为推荐"}},[a("el-switch",{on:{change:e.changeHot},model:{value:e.ishot,callback:function(t){e.ishot=t},expression:"ishot"}})],1),a("el-form-item",{attrs:{label:"商品库存",prop:"number",rules:[{required:!0,message:"商品库存不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品库存"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"商品销量",prop:"sell",rules:[{required:!0,message:"商品销量不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品销量"},model:{value:e.form.sell,callback:function(t){e.$set(e.form,"sell",t)},expression:"form.sell"}})],1),a("el-form-item",{attrs:{label:"缩略图",prop:"image",rules:[{required:!0,message:"图片不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"on-remove":e.imageRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"banner",prop:"banner",rules:[{required:!0,message:"图片不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.bannerSuccess,"on-remove":e.bannerRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"商品规格"}},[a("div",{staticClass:"card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.attribute}},[a("el-table-column",{attrs:{label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"scope.row.title"}],staticClass:"input",attrs:{placeholder:"请输入标题"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||e.$set(t.row,"title",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{prop:"price",label:"市场价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price,expression:"scope.row.price"}],staticClass:"input",attrs:{placeholder:"请输入市场价格"},domProps:{value:t.row.price},on:{input:function(a){a.target.composing||e.$set(t.row,"price",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"售价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.cprice,expression:"scope.row.cprice"}],staticClass:"input",attrs:{placeholder:"请输入售价"},domProps:{value:t.row.cprice},on:{input:function(a){a.target.composing||e.$set(t.row,"cprice",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"进货价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.jdprice,expression:"scope.row.jdprice"}],staticClass:"input",attrs:{placeholder:"请输入进货价"},domProps:{value:t.row.jdprice},on:{input:function(a){a.target.composing||e.$set(t.row,"jdprice",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"商品库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.number,expression:"scope.row.number"}],staticClass:"input",attrs:{placeholder:"请输入商品库存"},domProps:{value:t.row.number},on:{input:function(a){a.target.composing||e.$set(t.row,"number",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"删除"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.attrDelete(t.$index)}}})]}}])})],1),a("div",{staticClass:"add"},[a("el-button",{staticClass:"add-button",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.attrAdd}},[e._v("增加规格\n              ")])],1)],1)]),a("el-form-item",{attrs:{label:"商品详情",prop:"content",rules:[{required:!0,message:"文章内容不能为空"}]}},[a("quill-editor",{attrs:{options:e.editor},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},mt=[],pt=(a("a753"),a("8096"),a("14e1"),a("953d")),ft=a("5dde");pt["Quill"].register("modules/ImageExtend",ft["a"]);var ht={components:{quillEditor:pt["quillEditor"]},name:"add-article",data:function(){var e=this;return{data:[],action:this.Base+"/admin/tools/upload",headers:{token:""},images:[],editor:{modules:{ImageExtend:{loading:!0,name:"file",action:this.Base+"/admin/tools/upload",response:function(t){return e.Base+t.url}},toolbar:{container:ft["c"],handlers:{image:function(){ft["b"].emit(this.quill.id)}}}}},isopen:!1,ishot:!1,form:{title:"",category:"",remark:"",types:"",brand_id:"",brand:"",image:"",isopen:0,ishot:0,number:"",sell:"",banner:"",content:""},catagory:[],brand:[],attribute:[{title:"",price:"",cprice:"",jdprice:"",discount:8,number:100}]}},mounted:function(){this.headers.token=localStorage.getItem("token"),this._getCategory()},methods:{_getCategory:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category?list=1");case 2:t=e.sent,1e4===t.error_code&&(this.active=t.data.active,this.catagory=t.data.category,this.brand=t.data.brand);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/save/",{form:this.form,attribute:this.attribute},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),changeOpen:function(e){this.form.isopen=e?1:0},changeHot:function(e){this.form.ishot=e?1:0},imageSuccess:function(e){this.form.image=e.url},imageRemove:function(){this.form.image=""},bannerSuccess:function(e){this.images.push(e.url)},bannerRemove:function(e,t){var a=this;this.images=[],t.map(function(e){a.images.push(e.url)})},attrAdd:function(){this.attribute.push({title:"",price:"",cprice:"",jprice:"",discount:8,number:100})},attrDelete:function(e){this.attribute.splice(e,1)},onSubmit:function(e){var t=this;this.form.banner=this.images.join(","),this.$refs[e].validate(function(e){if(!e)return!1;t.form.isopen=t.form.isopen?1:0,t._create()})}}},vt=ht,gt=(a("cd337"),Object(h["a"])(vt,dt,mt,!1,null,"1f690e7a",null)),bt=gt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增商品\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"商品标题不能为空"}]}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"商品描述",prop:"describe",rules:[{required:!0,message:"describe不能为空"}]}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1),a("el-form-item",{attrs:{label:"商品备注",prop:"remark",rules:[{required:!0,message:"商品备注不能为空"}]}},[a("el-input",{attrs:{placeholder:"京东商品满99包邮"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"category",rules:[{required:!0,message:"商品分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.catagory,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品品牌",prop:"brand_id",rules:[{required:!0,message:"商品品牌不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品品牌"},model:{value:e.form.brand_id,callback:function(t){e.$set(e.form,"brand_id",t)},expression:"form.brand_id"}},e._l(e.brand,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"商品品牌",prop:"brand",rules:[{required:!0,message:"商品品牌不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品品牌"},model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand",t)},expression:"form.brand"}})],1),a("el-form-item",{attrs:{label:"开启抢购"}},[a("el-switch",{on:{change:e.changeOpen},model:{value:e.isopen,callback:function(t){e.isopen=t},expression:"isopen"}})],1),a("el-form-item",{attrs:{label:"设为推荐"}},[a("el-switch",{on:{change:e.changeHot},model:{value:e.ishot,callback:function(t){e.ishot=t},expression:"ishot"}})],1),a("el-form-item",{attrs:{label:"商品库存",prop:"number",rules:[{required:!0,message:"商品库存不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品库存"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"商品销量",prop:"sell",rules:[{required:!0,message:"商品销量不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入商品销量"},model:{value:e.form.sell,callback:function(t){e.$set(e.form,"sell",t)},expression:"form.sell"}})],1),a("el-form-item",{attrs:{label:"缩略图",prop:"image",rules:[{required:!0,message:"图片不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"on-remove":e.imageRemove,"file-list":[{name:"缩略图",url:e.form.image}],"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"banner",prop:"banner",rules:[{required:!0,message:"图片不能为空"}]}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.bannerSuccess,"on-remove":e.bannerRemove,"file-list":e.images,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"商品规格"}},[a("div",{staticClass:"card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.attribute}},[a("el-table-column",{attrs:{label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"scope.row.title"}],staticClass:"input",attrs:{placeholder:"请输入标题"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||e.$set(t.row,"title",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{prop:"price",label:"市场价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price,expression:"scope.row.price"}],staticClass:"input",attrs:{placeholder:"请输入市场价格"},domProps:{value:t.row.price},on:{input:function(a){a.target.composing||e.$set(t.row,"price",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"售价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.cprice,expression:"scope.row.cprice"}],staticClass:"input",attrs:{placeholder:"请输入售价"},domProps:{value:t.row.cprice},on:{input:function(a){a.target.composing||e.$set(t.row,"cprice",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"进货价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.jdprice,expression:"scope.row.jdprice"}],staticClass:"input",attrs:{placeholder:"请输入进货价"},domProps:{value:t.row.jdprice},on:{input:function(a){a.target.composing||e.$set(t.row,"jdprice",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"商品库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.number,expression:"scope.row.number"}],staticClass:"input",attrs:{placeholder:"请输入商品库存"},domProps:{value:t.row.number},on:{input:function(a){a.target.composing||e.$set(t.row,"number",a.target.value)}}})]}}])}),a("el-table-column",{attrs:{label:"删除"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.attrDelete(t.$index)}}})]}}])})],1),a("div",{staticClass:"add"},[a("el-button",{staticClass:"add-button",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.attrAdd}},[e._v("增加规格\n              ")])],1)],1)]),a("el-form-item",{attrs:{label:"文章内容",prop:"content",rules:[{required:!0,message:"文章内容不能为空"}]}},[a("quill-editor",{attrs:{options:e.editor},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},yt=[];pt["Quill"].register("modules/ImageExtend",ft["a"]);var wt={components:{quillEditor:pt["quillEditor"]},name:"add-article",data:function(){var e=this;return{active:[],catagory:[],brand:[],id:0,isopen:!1,ishot:!1,action:this.Base+"/admin/tools/upload",headers:{token:""},img:[],images:[],editor:{modules:{ImageExtend:{loading:!0,name:"file",action:this.Base+"/admin/tools/upload",response:function(t){return e.Base+t.url}},toolbar:{container:ft["c"],handlers:{image:function(){ft["b"].emit(this.quill.id)}}}}},form:{title:"",category:"",remark:"",types:"",brand_id:"",brand:"",image:"",isopen:0,ishot:0,number:"",sell:"",banner:"",content:""},attribute:[]}},mounted:function(){this.id=gn.state.id,this.headers.token=localStorage.getItem("token"),this.getData()},methods:{_getCategory:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category?list=1");case 2:t=e.sent,1e4===t.error_code&&(this.active=t.data.active,this.catagory=t.data.category,this.brand=t.data.brand);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/read/id/".concat(this.id));case 2:if(t=e.sent,1e4===t.error_code)for(a in this.form=t.data,this._getCategory(),this.isopen=t.data["isopen"],this.ishot=t.data["hot"],this.form.category=parseInt(this.form.category),t.data.banner.split(",").map(function(e){n.img.push(e),n.images.push({name:"banner",url:e})}),this.form.attribute)r=this.form.attribute[a],this.attribute.push(r);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_updateData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/update/id/".concat(this.id),{form:this.form,attribute:this.attribute},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.url},imageRemove:function(){this.form.image=""},bannerSuccess:function(e){this.img.push(e.url),this.images.push(e.url)},bannerRemove:function(e,t){var a=this;this.img=[],t.map(function(e){a.img.push(e.url)})},changeOpen:function(e){this.form.isopen=e?1:0},changeHot:function(e){this.form.ishot=e?1:0},attrAdd:function(){this.attribute.push({title:"",price:"",discount:8,cprice:"",number:100})},attrDelete:function(e){this.attribute.splice(e,1)},onSubmit:function(e){var t=this;this.form.banner=this.img.join(","),this.$refs[e].validate(function(e){if(!e)return!1;t._updateData()})}}},xt=wt,kt=(a("5a83"),Object(h["a"])(xt,_t,yt,!1,null,"8d95e112",null)),Ct=kt.exports,$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("分类")]),a("el-breadcrumb-item",[e._v("分类管理")])],1)],1),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.cate,callback:function(t){e.cate=t},expression:"cate"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入分类名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("div",{staticClass:"create"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")]),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.layer.add,"append-to-body":e.isBody},on:{"update:visible":function(t){return e.$set(e.layer,"add",t)}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.createCategory()}}},[e._v("添加到该分类")]),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.goodsTitle,callback:function(t){e.goodsTitle=t},expression:"goodsTitle"}}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchTitle},slot:"append"},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.lists},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题"}})],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":"20",layout:"prev, pager, next",total:e.layer.total},on:{"current-change":e.handleChange}})],1)],1),a("el-dialog",{attrs:{title:"查看分类",visible:e.layer.look,"append-to-body":e.isBody},on:{"update:visible":function(t){return e.$set(e.layer,"look",t)}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.removeCategory}},[e._v("移除")]),a("div",{staticClass:"search",staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品标题"},model:{value:e.look.title,callback:function(t){e.$set(e.look,"title",t)},expression:"look.title"}}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchTitle},slot:"append"},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.look.data},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题"}})],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","page-size":"20",layout:"prev, pager, next",total:e.look.total},on:{"current-change":e.handleLookChange}})],1)],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"types",width:"150",label:"分类归属"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.types?a("span",{staticStyle:{color:"#358180"}},[e._v("活动 ")]):1===t.row.types?a("span",{staticStyle:{color:"#fc5350"}},[e._v("商品 ")]):a("span",{staticStyle:{color:"#67c23a"}},[e._v("品牌 ")])]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"sort",width:"180",label:"排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{title:"排序越大越靠前",placeholder:"排序越大越靠前"},on:{blur:function(a){return e.changeSort(t.row.id,t.row.sort)}},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("el-button",{attrs:{size:"mini",type:"info",title:"下架",icon:"el-icon-bottom"},on:{click:function(a){return e.change(t.row.id,t.$index,0)}}}):a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-top",title:"上架"},on:{click:function(a){return e.change(t.row.id,t.$index,1)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(a){return e._edit(t.row.id)}}}),a("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-plus"},on:{click:function(a){return e.add(t.row.id,t.row.types,t.row.cate_id)}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-view"},on:{click:function(a){return e._look(t.row.id,t.row.id,t.row.cate_id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.id,t.$index)}}})]}}])})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":"20",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])])},St=[],Rt={name:"index",data:function(){return{data:[],lists:[],cate:0,layer:{add:!1,page:0,total:0,look:!1},look:{data:[],page:0,total:0,title:""},isBody:!0,checkAll:!1,isIndeterminate:!0,goodsTitle:"",options:[{value:0,label:"请选择分类"},{value:1,label:"商品分类"},{value:2,label:"品牌分类"}],types:0,brand:0,idAll:[],title:"",page:1,total:0}},created:function(){this._getData(),this._getLists()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/index?page=".concat(this.page,"&title=").concat(this.title,"&cate=-1"),"");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total,this.page=t.data.current_page);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_getLists:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.layer.page,"&title=").concat(this.goodsTitle),"");case 2:t=e.sent,1e4===t.error_code&&(this.lists=t.data.data,this.layer.page=t.data.current_page,this.layer.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){gn.commit("add_tabs",{path:"add-category",name:"添加分类"})},_changeSort:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/activity/updates/id/".concat(t),{sort:a},"POST");case 2:r=e.sent,1e4===r.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),changeSort:function(e,t){this._changeSort(e,t)},_change:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/update/id/".concat(t),{status:r},"POST");case 2:n=e.sent,1e4===n.error_code?(this.data[a]["status"]=r,this.$message("修改成功")):this.$message.error("修改失败");case 4:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),_updateCate:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("goods/updateAllCategory/",{id:this.id,all:this.idAll,types:a,status:t},"POST");case 2:r=e.sent,1e4===r.error_code&&this.$message.success("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),add:function(e,t,a){this.idAll=[],this.id=2==t?a:e,this.types=t,this.layer.add=!0},handleSelectionChange:function(e){var t=this;this.idAll=[],e.map(function(e){t.idAll.push(e.id)})},searchTitle:function(){this.goodsTitle?this._getLists():this.$message.error("商品标题不能为空")},createCategory:function(){if(this.idAll.length){var e="category";2==this.types&&(e="brand_id"),this._updateCate(1,e)}else this.$message.error("请选择商品")},removeCategory:function(){if(this.idAll.length){var e="category";2==this.types&&(e="brand_id"),this._updateCate(0,e)}else this.$message.error("请选择商品")},_detele:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/delete/id/".concat(t));case 2:r=e.sent,1e4===r.error_code&&(this.$message("删除成功"),this.data.splice(a,1));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),_getLook:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/goods/index?page=".concat(this.layer.page,"&title=").concat(this.goodsTitle,"&types=").concat(this.types,"&brand=").concat(this.brand),"");case 2:t=e.sent,1e4===t.error_code&&(this.look.data=t.data.data,this.layer.page=t.data.current_page,this.look.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_look:function(e,t,a){this.idAll=[],this.id=2==t?a:e,this.types=t,this.brand=a,this.layer.look=!0,this.layer.page=1,this._getLook()},change:function(e,t,a){var r=this;this.$confirm("此操作将更改商品状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r._change(e,t,a)})},del:function(e,t){var a=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._detele(e,t)})},_edit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-category",name:"编辑分类"})},handleCurrentChange:function(e){this.page=e,this._getData()},handleChange:function(e){this.layer.page=e,this._getLists()},handleLookChange:function(e){this.layer.page=e,this._getLook()},search:function(){this.title||this.cate?this._getData():this.$message("分类标题不能为空")}}},Ot=Rt,Tt=Object(h["a"])(Ot,$t,St,!1,null,"0a86cc82",null),jt=Tt.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增分类\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"猫狗分类",prop:"pid",rules:[{required:!0,message:"猫狗分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"猫狗分类"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.optionDog,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"选择归属",prop:"types",rules:[{required:!0,message:"归属不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择归属"},model:{value:e.form.types,callback:function(t){e.$set(e.form,"types",t)},expression:"form.types"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"分类标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入分类标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"分类图标",prop:"icon"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.iconSuccess,"on-remove":e.iconRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"分类封面",prop:"image"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"on-remove":e.imageRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Dt=[],qt={components:{},name:"add-category",data:function(){return{options:[{value:0,label:"活动分类"},{value:1,label:"商品分类"},{value:2,label:"品牌分类"}],optionDog:[{value:0,label:"其他用品"},{value:1,label:"猫用品"},{value:2,label:"狗用品"}],action:this.Base+"/admin/tools/upload",headers:{token:""},images:[],form:{types:0,pid:0,title:"",icon:"",image:"",remark:""}}},mounted:function(){this.headers.token=localStorage.getItem("token")},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category?list=1");case 2:t=e.sent,1e4===t.error_code&&t.data.goods.map(function(e){a.options[1]["children"].push(e)});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/save/",{form:this.form,attribute:this.attribute},"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.url},imageRemove:function(){this.form.image=""},iconSuccess:function(e){this.form.icon=e.url},iconRemove:function(){this.form.icon=""},handleChange:function(e){this.form.types=e[0],this.form.pid=e[1]},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Bt=qt,Pt=(a("2f3b"),Object(h["a"])(Bt,At,Dt,!1,null,"4cf10b84",null)),zt=Pt.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑分类\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"猫狗分类",prop:"pid",rules:[{required:!0,message:"猫狗分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"猫狗分类"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.optionDog,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"选择归属",prop:"types",rules:[{required:!0,message:"归属不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择归属"},model:{value:e.form.types,callback:function(t){e.$set(e.form,"types",t)},expression:"form.types"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"分类标题不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入分类标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"分类图标",prop:"icon"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"file-list":[{name:"分类图标",url:e.form.icon}],"on-success":e.iconSuccess,"on-remove":e.iconRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"分类封面",prop:"image"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,headers:e.headers,"on-success":e.imageSuccess,"file-list":[{name:"分类封面",url:e.form.image}],"on-remove":e.imageRemove,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},It=[],Lt={components:{},name:"add-category",data:function(){return{options:[{value:0,label:"活动分类"},{value:1,label:"商品分类"},{value:2,label:"品牌分类"}],optionDog:[{value:0,label:"其他用品"},{value:1,label:"猫用品"},{value:2,label:"狗用品"}],id:0,action:this.Base+"/admin/tools/upload",headers:{token:""},images:[],form:{types:0,title:"",icon:"",image:"",remark:""}}},mounted:function(){this.id=gn.state.id,this.headers.token=localStorage.getItem("token"),this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/category/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),imageSuccess:function(e){this.form.image=e.url},imageRemove:function(){this.form.image=""},iconSuccess:function(e){this.form.icon=e.url},iconRemove:function(){this.form.icon=""},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Wt=Lt,Gt=(a("3e46"),Object(h["a"])(Wt,Et,It,!1,null,"6686a487",null)),Ht=Gt.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("订单")]),a("el-breadcrumb-item",[e._v("订单列表")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("el-dialog",{attrs:{title:"订单详情","append-to-body":e.layer.status,visible:e.layer.order},on:{"update:visible":function(t){return e.$set(e.layer,"order",t)}}},[a("el-table",{attrs:{data:e.form.goods}},[a("el-table-column",{attrs:{property:"goods_id",label:"商品ID",width:"150"}}),a("el-table-column",{attrs:{property:"title",label:"商品标题",width:"150"}}),a("el-table-column",{attrs:{property:"attr_title",label:"商品规格"}}),a("el-table-column",{attrs:{property:"attr_price",label:"商品价格"}}),a("el-table-column",{attrs:{property:"number",label:"商品数量"}})],1),a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"用户姓名"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),a("el-form-item",{attrs:{label:"收货地址"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"付款金额"}},[a("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.form.cprice,callback:function(t){e.$set(e.form,"cprice",t)},expression:"form.cprice"}})],1),a("el-form-item",{attrs:{label:"快递状态"}},[1===e.form.status?a("el-button",{staticStyle:{color:"#409EFF"},attrs:{type:"text"}},[e._v("\n              已付款\n            ")]):e._e(),0===e.form.status?a("el-button",{staticStyle:{color:"red"},attrs:{type:"text"}},[e._v("\n              未付款——买家未付款,无法发货\n            ")]):e._e(),2===e.form.status?a("el-button",{staticStyle:{color:"#fc5350"},attrs:{type:"text"}},[e._v("\n              已发货\n            ")]):e._e()],1),a("el-form-item",{attrs:{label:"快递信息"}},[a("el-select",{attrs:{placeholder:"请选择快递信息"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"申通",value:"shanghai"}}),a("el-option",{attrs:{label:"圆通",value:"beijing"}}),a("el-option",{attrs:{label:"韵达",value:"beijing"}}),a("el-option",{attrs:{label:"中通",value:"beijing"}}),a("el-option",{attrs:{label:"顺丰",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"快递单号"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.layer.order=!1}}},[e._v("取 消")]),1!==e.form.status?a("el-button",{attrs:{type:"primary"},on:{click:e.sumbit}},[e._v("发 货")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.layer.order=!1}}},[e._v("关 闭")])],1)],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"90"}}),a("el-table-column",{attrs:{prop:"name",label:"付款人"}}),a("el-table-column",{attrs:{prop:"price",label:"商品价格"}}),a("el-table-column",{attrs:{prop:"cprice",label:"实际付款金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("span",{staticStyle:{color:"red"},domProps:{textContent:e._s(t.row.cprice)}}):a("span",{staticStyle:{color:"#ccc"}},[e._v("未付款")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),a("el-table-column",{attrs:{label:"订单详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.show(t.row)}}},[e._v("\n                查看\n              ")])]}}])}),a("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-button",{staticStyle:{color:"#409EFF"},attrs:{type:"text",size:"small"}},[e._v("\n                已付款\n              ")]):e._e(),0===t.row.status?a("el-button",{staticStyle:{color:"#ccc"},attrs:{type:"text",size:"small"}},[e._v("\n                未付款\n              ")]):e._e(),2===t.row.status?a("el-button",{staticStyle:{color:"#fc5350"},attrs:{type:"text",size:"small"}},[e._v("\n                已发货\n              ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._e(),a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.del(t.row.id,t.$index)}}},[e._v("删除\n              ")])]}}])})],1)],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.next}})],1)])])},Nt=[],Ut={name:"index",data:function(){return{data:[],layer:{order:!1,status:!0},form:{},total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/order/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_sumbit:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/order/update/id/".concat(this.form),this.form);case 2:t=e.sent,1e4===t.error_code&&(this.$message({type:"success",message:"已发货!"}),this.layer.order=!1);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("order/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),show:function(e){this.form=e,this.form.address=e.content+e.street,this.layer.order=!0},sumbit:function(){var e=this;this.$confirm("此操作将更改订单状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e._sumbit()}).catch(function(){})},del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){gn.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},Ft=Ut,Jt=(a("e897"),Object(h["a"])(Ft,Mt,Nt,!1,null,"82e99f80",null)),Qt=Jt.exports,Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("京东账单")]),a("el-breadcrumb-item",[e._v("京东账单列表")])],1)],1),a("div",{staticClass:"create"},[a("span",[e._v("共有数据: "+e._s(e.total)+" 条")]),a("span",[e._v("当前余额: "+e._s(e.price))])]),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),a("el-table-column",{attrs:{prop:"amount",width:"140",label:"消费金额"}}),a("el-table-column",{attrs:{prop:"notePub",label:"账单备注"}}),a("el-table-column",{attrs:{prop:"tradeTypeName",width:"180",label:"消费信息"}}),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间"}})],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.next}})],1)])])},Vt=[],Xt={name:"jdorder",data:function(){return{data:[],layer:{order:!1,status:!0},form:{},price:0,total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/order/jdorder","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data,this.price=t.price,this.total=t.data.total);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_sumbit:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/order/update/id/".concat(this.form),this.form);case 2:t=e.sent,1e4===t.error_code&&(this.$message({type:"success",message:"已发货!"}),this.layer.order=!1);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("order/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),next:function(e){this.page=e,this._getData()}}},Yt=Xt,Zt=(a("76bb"),Object(h["a"])(Yt,Kt,Vt,!1,null,"35d7013a",null)),ea=Zt.exports,ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("管理员设置")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{label:"修改密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#f80003",cursor:"pointer"},attrs:{title:"修改密码"},on:{click:function(a){return e.change(t.row.id)}}},[e._v("*****")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"启用时间"}}),e._e()],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.page},on:{"current-page":e.next}})],1)])])},aa=[],ra={name:"index",data:function(){return{password:{new:"",old:""},data:[],total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){gn.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},na=ra,ia=Object(h["a"])(na,ta,aa,!1,null,"f3c7f842",null),sa=ia.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},la=[],ca={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},ua=ca,da=(a("56b6"),Object(h["a"])(ua,oa,la,!1,null,"a43a9c8c",null)),ma=da.exports,pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},fa=[],ha={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=gn.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},va=ha,ga=(a("ba71"),Object(h["a"])(va,pa,fa,!1,null,"567f76d1",null)),ba=ga.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},ya=[],wa={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},xa=wa,ka=(a("463f"),Object(h["a"])(xa,_a,ya,!1,null,"4221a60c",null)),Ca=ka.exports,$a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Sa=[],Ra={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=gn.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Oa=Ra,Ta=(a("44a4"),Object(h["a"])(Oa,$a,Sa,!1,null,"5ed65211",null)),ja=Ta.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("管理员设置")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{label:"修改密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#f80003",cursor:"pointer"},attrs:{title:"修改密码"},on:{click:function(a){return e.change(t.row.id)}}},[e._v("*****")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"启用时间"}}),e._e()],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.page},on:{"current-page":e.next}})],1)])])},Da=[],qa={name:"index",data:function(){return{password:{new:"",old:""},data:[],total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){gn.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},Ba=qa,Pa=Object(h["a"])(Ba,Aa,Da,!1,null,"c8ffbb52",null),za=Pa.exports,Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Ia=[],La={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Wa=La,Ga=(a("b14b"),Object(h["a"])(Wa,Ea,Ia,!1,null,"3083da42",null)),Ha=Ga.exports,Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Na=[],Ua={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=gn.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Fa=Ua,Ja=(a("6828"),Object(h["a"])(Fa,Ma,Na,!1,null,"0f315b59",null)),Qa=Ja.exports,Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("管理员设置")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{label:"修改密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#f80003",cursor:"pointer"},attrs:{title:"修改密码"},on:{click:function(a){return e.change(t.row.id)}}},[e._v("*****")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"启用时间"}}),e._e()],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.page},on:{"current-page":e.next}})],1)])])},Va=[],Xa={name:"index",data:function(){return{password:{new:"",old:""},data:[],total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){gn.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},Ya=Xa,Za=Object(h["a"])(Ya,Ka,Va,!1,null,"f1fcfe8a",null),er=Za.exports,tr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},ar=[],rr={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},nr=rr,ir=(a("c699"),Object(h["a"])(nr,tr,ar,!1,null,"e901a744",null)),sr=ir.exports,or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},lr=[],cr={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=gn.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},ur=cr,dr=(a("0e01"),Object(h["a"])(ur,or,lr,!1,null,"38ed1f75",null)),mr=dr.exports,pr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("管理员设置")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{label:"修改密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#f80003",cursor:"pointer"},attrs:{title:"修改密码"},on:{click:function(a){return e.change(t.row.id)}}},[e._v("*****")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"启用时间"}}),e._e()],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.page},on:{"current-page":e.next}})],1)])])},fr=[],hr={name:"index",data:function(){return{password:{new:"",old:""},data:[],total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){gn.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},vr=hr,gr=Object(h["a"])(vr,pr,fr,!1,null,"dfd3c50e",null),br=gr.exports,_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},yr=[],wr={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},xr=wr,kr=(a("9e03"),Object(h["a"])(xr,_r,yr,!1,null,"db70b540",null)),Cr=kr.exports,$r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Sr=[],Rr={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=gn.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Or=Rr,Tr=(a("1f17"),Object(h["a"])(Or,$r,Sr,!1,null,"4f2e5777",null)),jr=Tr.exports,Ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("管理员设置")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{label:"修改密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#f80003",cursor:"pointer"},attrs:{title:"修改密码"},on:{click:function(a){return e.change(t.row.id)}}},[e._v("*****")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"启用时间"}}),e._e()],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.page},on:{"current-page":e.next}})],1)])])},Dr=[],qr={name:"index",data:function(){return{password:{new:"",old:""},data:[],total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){gn.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},Br=qr,Pr=Object(h["a"])(Br,Ar,Dr,!1,null,"187a7bb0",null),zr=Pr.exports,Er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Ir=[],Lr={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Wr=Lr,Gr=(a("9df8"),Object(h["a"])(Wr,Er,Ir,!1,null,"e77ab5ee",null)),Hr=Gr.exports,Mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},Nr=[],Ur={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=gn.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},Fr=Ur,Jr=(a("7662"),Object(h["a"])(Fr,Mr,Nr,!1,null,"770d22a0",null)),Qr=Jr.exports,Kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),a("el-breadcrumb-item",[e._v("设置")]),a("el-breadcrumb-item",[e._v("管理员设置")])],1)],1),a("div",{staticClass:"create"},[e._e(),a("span",[e._v("共有数据: "+e._s(e.total)+" 条")])],1),a("div",{staticClass:"card-body text"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{label:"修改密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"font-size":"12px",color:"#f80003",cursor:"pointer"},attrs:{title:"修改密码"},on:{click:function(a){return e.change(t.row.id)}}},[e._v("*****")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"启用时间"}}),e._e()],1)],1)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.page},on:{"current-page":e.next}})],1)])])},Vr=[],Xr={name:"index",data:function(){return{password:{new:"",old:""},data:[],total:0}},created:function(){this._getData()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/index","");case 2:t=e.sent,1e4===t.error_code&&(this.data=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),look:function(e){this.$alert('<img src="'.concat(e,'">'),"",{dangerouslyUseHTMLString:!0})},_del:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/delete?id=".concat(t),{},"delete");case 2:r=e.sent,1e4===r.error_code&&(this.data.splice(a,1),this.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),del:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._del(e,t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},openEdit:function(e){gn.commit("setid",e),gn.commit("add_tabs",{path:"edit-admin",name:"编辑管理员"})},_password:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update?id=".concat(t),{password:a},"POST");case 2:r=e.sent,1e4===r.error_code&&(localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload());case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),_change:function(e,t){var a=this;this.$confirm("此操作将修改密码，并退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a._password(e,t)}).catch(function(){a.$message({type:"info",message:"已取消"})})},change:function(e){var t=this;this.$alert("","修改密码",{dangerouslyUseHTMLString:!0,showInput:!0,inputPlaceholder:"请输入新密码",confirmButtonText:"确认修改"}).then(function(a){"confirm"===a.action&&t._change(e,a.value)})},create:function(){gn.commit("add_tabs",{path:"add-admin",name:"添加管理员"})},next:function(e){this.page=e,this._getData()}}},Yr=Xr,Zr=Object(h["a"])(Yr,Kr,Vr,!1,null,"edb41cae",null),en=Zr.exports,tn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      新增管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"登陆密码",prop:"password",rules:[{required:!0,message:"登陆密码不能为空"}]}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},an=[],rn={components:{},name:"add-article",data:function(){return{data:{},form:{pid:"",name:"",username:"",password:""}}},mounted:function(){this.getWorkshop()},methods:{getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/save/",this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("添加成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},nn=rn,sn=(a("2c75"),Object(h["a"])(nn,tn,an,!1,null,"2c948730",null)),on=sn.exports,ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("\n      编辑管理员\n    ")]),a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:[{required:!0,message:"管理员姓名不能为空"}]}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"登陆账号",prop:"username",rules:[{required:!0,message:"登陆账号不能为空"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"管理车间",prop:"pid",rules:[{required:!0,message:"车间不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择管理车间"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.data,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},cn=[],un={components:{},name:"add-article",data:function(){return{data:{},form:{}}},mounted:function(){this.id=gn.state.id,this._getData(),this.getWorkshop()},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/read/id/".concat(this.id));case 2:t=e.sent,1e4===t.error_code&&(this.form=t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getWorkshop:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("workshop");case 2:t=e.sent,1e4===t.error_code&&(a=t.data.data,a.push({id:0,title:"全部"}),this.data=a);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_create:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/update/id/".concat(this.id),this.form,"POST");case 2:t=e.sent,1e4===t.error_code&&this.$message("修改成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t._create()})}}},dn=un,mn=(a("ce42"),Object(h["a"])(dn,ln,cn,!1,null,"524c5147",null)),pn=mn.exports;r["default"].use(u["a"]);var fn=new u["a"]({routes:[{path:"/login",name:"登录",component:g},{path:"/",name:"主页",component:Y,meta:{keepAlive:!0}},{path:"/user",name:"用户列表",component:ne,meta:{keepAlive:!0}},{path:"/add-user",name:"添加员工",component:ue,meta:{keepAlive:!1}},{path:"/edit-user",name:"编辑员工",component:ve,meta:{keepAlive:!1}},{path:"/activity",name:"活动列表",component:xe,meta:{keepAlive:!0}},{path:"/hot",name:"抢购列表",component:Oe,meta:{keepAlive:!0}},{path:"/team",name:"团购列表",component:Be,meta:{keepAlive:!0}},{path:"/bargain",name:"砍价列表",component:We,meta:{keepAlive:!0}},{path:"/add-category",name:"添加活动",component:zt,meta:{keepAlive:!0}},{path:"/edit-category",name:"编辑分类",component:Ht,meta:{keepAlive:!1}},{path:"/goods",name:"商品列表",component:ut,meta:{keepAlive:!0}},{path:"/add-goods",name:"添加商品",component:bt,meta:{keepAlive:!1}},{path:"/edit-goods",name:"编辑商品",component:Ct,meta:{keepAlive:!1}},{path:"/category",name:"分类管理",component:jt,meta:{keepAlive:!0}},{path:"/add-category",name:"添加分类",component:zt,meta:{keepAlive:!1}},{path:"/edit-category",name:"编辑分类",component:Ht,meta:{keepAlive:!1}},{path:"/banner",name:"banner列表",component:Fe,meta:{keepAlive:!0}},{path:"/add-banner",name:"添加banner",component:Ye,meta:{keepAlive:!1}},{path:"/edit-banner",name:"编辑banner",component:nt,meta:{keepAlive:!1}},{path:"/order",name:"订单列表",component:Qt,meta:{keepAlive:!0}},{path:"/jdorder",name:"京东账单",component:ea,meta:{keepAlive:!0}},{path:"/admin",name:"管理员设置",component:en,meta:{keepAlive:!0}},{path:"/add-admin",name:"添加管理员",component:on,meta:{keepAlive:!1}},{path:"/edit-admin",name:"编辑管理员",component:pn,meta:{keepAlive:!1}},{path:"/power",name:"权限设置",component:sa,meta:{keepAlive:!0}},{path:"/add-power",name:"添加权限",component:ma,meta:{keepAlive:!1}},{path:"/edit-power",name:"编辑权限",component:ba,meta:{keepAlive:!1}},{path:"/shopowner",name:"店长列表",component:za,meta:{keepAlive:!0}},{path:"/add-shopowner",name:"添加店长",component:Ha,meta:{keepAlive:!1}},{path:"/edit-shopowner",name:"编辑店长",component:Qa,meta:{keepAlive:!1}},{path:"/property",name:"物业列表",component:sa,meta:{keepAlive:!0}},{path:"/add-property",name:"添加物业",component:Ca,meta:{keepAlive:!1}},{path:"/edit-property",name:"编辑物业",component:ja,meta:{keepAlive:!1}},{path:"/property",name:"物业设置",component:sa,meta:{keepAlive:!0}},{path:"/add-property",name:"添加物业",component:Ca,meta:{keepAlive:!1}},{path:"/edit-property",name:"编辑物业",component:ja,meta:{keepAlive:!1}},{path:"/store",name:"门店列表",component:er,meta:{keepAlive:!0}},{path:"/add-store",name:"添加门店",component:sr,meta:{keepAlive:!0}},{path:"/edit-store",name:"编辑门店",component:mr,meta:{keepAlive:!0}},{path:"/pet",name:"宠物列表",component:br,meta:{keepAlive:!0}},{path:"/add-pet",name:"添加宠物",component:Cr,meta:{keepAlive:!0}},{path:"/edit-pet",name:"编辑宠物",component:jr,meta:{keepAlive:!0}},{path:"/coupon",name:"优惠券列表",component:zr,meta:{keepAlive:!0}},{path:"/add-coupon",name:"添加优惠券",component:Hr,meta:{keepAlive:!1}},{path:"/edit-coupon",name:"编辑优惠券",component:Qr,meta:{keepAlive:!1}}]});fn.beforeEach(function(e,t,a){var r=localStorage.getItem("token");if(!r){if("/login"!==e.path)return a({path:"/login",name:"登录"});a()}if("/login"===e.path)return a(r?{path:"/",name:"主页"}:{path:"/login",name:"登录"});a()});var hn=fn;r["default"].use(c["a"]);var vn=new c["a"].Store({state:{table:{},coupon:{},id:0,path:[{path:"/",name:"主页"}],active:"/"},mutations:{setid:function(e,t){this.state.id=t},edit_tabs:function(e,t){this.state.table=t},edit_coupon:function(e,t){this.state.coupon=t},add_tabs:function(e,t){var a=!0;for(var r in this.state.path)this.state.path[r]["path"]!==t.path&&this.state.path[r]["path"]!=="/"+t.path||(a=!1);hn.push(t),this.state.active=t.path,a&&this.state.path.push(t)},set_active_index:function(e,t){this.state.active=t}}}),gn=vn,bn={name:"Index",data:function(){return{isCollapse:!1,out:!1,username:"admin",defaultTab:gn.state.active,tabs:gn.state.path}},computed:{active:{get:function(){return gn.state.active},set:function(e){this.defaultTab=e}}},watch:{name:function(){this.username=localStorage.getItem("username")}},mounted:function(){"/"!==this.$route.path&&(gn.commit("add_tabs",{path:this.$route.path,name:this.$route.name}),this.defaultTab=this.$route.path)},methods:{_getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S("admin/findOne");case 2:t=e.sent,1e4===t.error_code&&(t.data||(this.admin=!0));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),capitalize:function(){return!0},addTab:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.defaultTab=e,gn.commit("add_tabs",{path:e,name:t,params:{id:a}})},onTabClick:function(e){this.defaultTab=e.$attrs.path,gn.commit("add_tabs",{path:e.$attrs.path,name:e.$attrs.title})},refresh:function(){window.location.reload()},showData:function(){this.$message.error("暂无资料")},loginOut:function(){var e=this;this.$confirm("此操作将退出登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){localStorage.removeItem("token"),hn.push({path:"/login",name:"登录"}),window.location.reload()}).catch(function(){e.$message({type:"info",message:"已取消"})})},removeTab:function(e){var t=this.tabs;hn.push({path:"/",name:"主页"}),this.defaultTab="/",this.tabs=t.filter(function(t){return t.name!==e})}}},_n=bn,yn=(a("65d3"),Object(h["a"])(_n,s,o,!1,null,null,null)),wn=yn.exports,xn={name:"app",components:{index:wn},computed:{isAuth:function(){return this.$route.path.match("login")}}},kn=xn,Cn=(a("034f"),Object(h["a"])(kn,n,i,!1,null,null,null)),$n=Cn.exports;a("8934"),a("c69f");r["default"].use(k.a);var Sn=a("2819"),Rn=a.n(Sn),On=a("9062"),Tn=a.n(On);a("e40d");r["default"].config.productionTip=!1,r["default"].prototype.Base="https://tail.mphot.cn/",r["default"].use(Rn.a,Tn.a),new r["default"]({router:hn,render:function(e){return e($n)}}).$mount("#app")},"5a6e":function(e,t,a){},"5a83":function(e,t,a){"use strict";var r=a("5a6e"),n=a.n(r);n.a},"5b8f":function(e,t,a){},6430:function(e,t,a){},"64a9":function(e,t,a){},"65d3":function(e,t,a){"use strict";var r=a("ea22"),n=a.n(r);n.a},6828:function(e,t,a){"use strict";var r=a("2d10"),n=a.n(r);n.a},"724b":function(e,t,a){},7323:function(e,t,a){},7615:function(e,t,a){},7662:function(e,t,a){"use strict";var r=a("00f1"),n=a.n(r);n.a},"76bb":function(e,t,a){"use strict";var r=a("f816"),n=a.n(r);n.a},8390:function(e,t,a){},"842e":function(e,t,a){},8934:function(e,t,a){},"9df8":function(e,t,a){"use strict";var r=a("e83d"),n=a.n(r);n.a},"9e03":function(e,t,a){"use strict";var r=a("7615"),n=a.n(r);n.a},a8c9:function(e,t,a){"use strict";var r=a("3cac"),n=a.n(r);n.a},aece:function(e,t,a){"use strict";var r=a("724b"),n=a.n(r);n.a},b14b:function(e,t,a){"use strict";var r=a("7323"),n=a.n(r);n.a},b75b:function(e,t,a){},b7c4:function(e,t,a){},b7eb:function(e,t,a){},ba71:function(e,t,a){"use strict";var r=a("6430"),n=a.n(r);n.a},c4dd:function(e,t,a){},c699:function(e,t,a){"use strict";var r=a("5b8f"),n=a.n(r);n.a},c69f:function(e,t,a){},c6a3:function(e,t,a){},c89a:function(e,t,a){},c98d:function(e,t,a){"use strict";var r=a("de97"),n=a.n(r);n.a},cd337:function(e,t,a){"use strict";var r=a("3d84"),n=a.n(r);n.a},ce42:function(e,t,a){"use strict";var r=a("1c69"),n=a.n(r);n.a},d03c:function(e,t,a){"use strict";var r=a("ebc9"),n=a.n(r);n.a},d3ea:function(e,t,a){"use strict";var r=a("c6a3"),n=a.n(r);n.a},de97:function(e,t,a){},dfad:function(e,t,a){"use strict";var r=a("c89a"),n=a.n(r);n.a},e83d:function(e,t,a){},e897:function(e,t,a){"use strict";var r=a("b75b"),n=a.n(r);n.a},ea22:function(e,t,a){},ebc9:function(e,t,a){},ed0b:function(e,t,a){},f54c:function(e,t,a){"use strict";var r=a("b7eb"),n=a.n(r);n.a},f816:function(e,t,a){}});
//# sourceMappingURL=app.f6295981.js.map